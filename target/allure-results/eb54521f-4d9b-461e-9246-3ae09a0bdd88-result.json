{"uuid":"eb54521f-4d9b-461e-9246-3ae09a0bdd88","historyId":"5942ad75ecd52061eeb1b66cb8a57851","testCaseId":"[engine:junit-jupiter]/[class:tests.stellarburger.user.LoginTests]/[method:shouldLoginUserExisted()]","testCaseName":"POST /api/auth/login. Positive test. Login with existed user.","fullName":"tests.stellarburger.user.LoginTests.shouldLoginUserExisted","labels":[{"name":"junit.platform.uniqueid","value":"[engine:junit-jupiter]/[class:tests.stellarburger.user.LoginTests]/[method:shouldLoginUserExisted()]"},{"name":"epic","value":"Tests for checking user login functionality"},{"name":"host","value":"DESKTOP-DI5RTNF"},{"name":"thread","value":"16564@DESKTOP-DI5RTNF.main(1)"},{"name":"framework","value":"junit-platform"},{"name":"language","value":"java"},{"name":"package","value":"tests.stellarburger.user.LoginTests"},{"name":"testClass","value":"tests.stellarburger.user.LoginTests"},{"name":"testMethod","value":"shouldLoginUserExisted"},{"name":"suite","value":"tests.stellarburger.user.LoginTests"}],"links":[],"name":"POST /api/auth/login. Positive test. Login with existed user.","status":"passed","stage":"finished","description":"Positive test for login. Status code should be 200, also checking json","steps":[{"name":"Precondition: create user","status":"passed","stage":"finished","steps":[{"name":"POST /api/auth/register. Creating a user.","status":"passed","stage":"finished","steps":[],"attachments":[{"name":"Request","source":"bd3c8e2b-0dd5-4b10-a7c8-3eae77af0f5b-attachment.html","type":"text/html"},{"name":"HTTP/1.1 200 OK","source":"ec5facf0-aa85-4b1d-be19-af20dd75ab9d-attachment.html","type":"text/html"}],"parameters":[{"name":"user","value":"User{email='alpxt@oaav.ru', password='aawikc', name='alphonso.crooks'}"}],"start":1716817755578,"stop":1716817756045},{"name":"Check response has status 200","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"response","value":"Register user POST /api/auth/register. \nStatus code: 200.\nBody:\n{\n    \"success\": true,\n    \"user\": {\n        \"email\": \"alpxt@oaav.ru\",\n        \"name\": \"alphonso.crooks\"\n    },\n    \"accessToken\": \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY2NTQ4ZjVjOWVkMjgwMDAxYjQxOWYzOCIsImlhdCI6MTcxNjgxNzc1NiwiZXhwIjoxNzE2ODE4OTU2fQ.CyBDuuNq-DE4kHP7BzqrbAOQMKHeevyxANy22c4NHdc\",\n    \"refreshToken\": \"a8d09f501aa83b1b1efeec817a06856059b07327d0b0f82671aa532582af02013e411bd4dd18e013\"\n}"}],"start":1716817756045,"stop":1716817756045},{"name":"Check json parameter in response","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"response","value":"Register user POST /api/auth/register. \nStatus code: 200.\nBody:\n{\n    \"success\": true,\n    \"user\": {\n        \"email\": \"alpxt@oaav.ru\",\n        \"name\": \"alphonso.crooks\"\n    },\n    \"accessToken\": \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY2NTQ4ZjVjOWVkMjgwMDAxYjQxOWYzOCIsImlhdCI6MTcxNjgxNzc1NiwiZXhwIjoxNzE2ODE4OTU2fQ.CyBDuuNq-DE4kHP7BzqrbAOQMKHeevyxANy22c4NHdc\",\n    \"refreshToken\": \"a8d09f501aa83b1b1efeec817a06856059b07327d0b0f82671aa532582af02013e411bd4dd18e013\"\n}"},{"name":"jsonPath","value":"success"},{"name":"matcher","value":"is <true>"}],"start":1716817756045,"stop":1716817756057}],"attachments":[],"parameters":[{"name":"user","value":"User{email='alpxt@oaav.ru', password='aawikc', name='alphonso.crooks'}"}],"start":1716817755578,"stop":1716817756057},{"name":"POST /api/auth/login. Login a user.","status":"passed","stage":"finished","steps":[],"attachments":[{"name":"Request","source":"f70e096e-d051-4471-a8d7-37735f2d39b1-attachment.html","type":"text/html"},{"name":"HTTP/1.1 200 OK","source":"7d2f64f5-af70-4119-98b3-9a5661eec79c-attachment.html","type":"text/html"}],"parameters":[{"name":"user","value":"User{email='alpxt@oaav.ru', password='aawikc', name='null'}"}],"start":1716817756057,"stop":1716817756493},{"name":"Check response has status 200","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"response","value":"Login user POST api/auth/login. \nStatus code: 200.\nBody:\n{\n    \"success\": true,\n    \"accessToken\": \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY2NTQ4ZjVjOWVkMjgwMDAxYjQxOWYzOCIsImlhdCI6MTcxNjgxNzc1NywiZXhwIjoxNzE2ODE4OTU3fQ.AO5jnsrA-gZcmUXzudRSxB-aibIStHNeINVN8QqIA9Y\",\n    \"refreshToken\": \"fa412fddcdc2a92485e3fdb753cf04182614bdd28e15bd846c5325e61b9f4d36063d153401001a8f\",\n    \"user\": {\n        \"email\": \"alpxt@oaav.ru\",\n        \"name\": \"alphonso.crooks\"\n    }\n}"}],"start":1716817756494,"stop":1716817756494},{"name":"Check json structure in login response","status":"passed","stage":"finished","steps":[{"name":"Check json parameter in response","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"response","value":"Login user POST api/auth/login. \nStatus code: 200.\nBody:\n{\n    \"success\": true,\n    \"accessToken\": \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY2NTQ4ZjVjOWVkMjgwMDAxYjQxOWYzOCIsImlhdCI6MTcxNjgxNzc1NywiZXhwIjoxNzE2ODE4OTU3fQ.AO5jnsrA-gZcmUXzudRSxB-aibIStHNeINVN8QqIA9Y\",\n    \"refreshToken\": \"fa412fddcdc2a92485e3fdb753cf04182614bdd28e15bd846c5325e61b9f4d36063d153401001a8f\",\n    \"user\": {\n        \"email\": \"alpxt@oaav.ru\",\n        \"name\": \"alphonso.crooks\"\n    }\n}"},{"name":"jsonPath","value":"success"},{"name":"matcher","value":"is <true>"}],"start":1716817756494,"stop":1716817756507},{"name":"Check json parameter in response","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"response","value":"Login user POST api/auth/login. \nStatus code: 200.\nBody:\n{\n    \"success\": true,\n    \"accessToken\": \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY2NTQ4ZjVjOWVkMjgwMDAxYjQxOWYzOCIsImlhdCI6MTcxNjgxNzc1NywiZXhwIjoxNzE2ODE4OTU3fQ.AO5jnsrA-gZcmUXzudRSxB-aibIStHNeINVN8QqIA9Y\",\n    \"refreshToken\": \"fa412fddcdc2a92485e3fdb753cf04182614bdd28e15bd846c5325e61b9f4d36063d153401001a8f\",\n    \"user\": {\n        \"email\": \"alpxt@oaav.ru\",\n        \"name\": \"alphonso.crooks\"\n    }\n}"},{"name":"jsonPath","value":"user.email"},{"name":"matcher","value":"is \"alpxt@oaav.ru\""}],"start":1716817756507,"stop":1716817756520},{"name":"Check json parameter in response","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"response","value":"Login user POST api/auth/login. \nStatus code: 200.\nBody:\n{\n    \"success\": true,\n    \"accessToken\": \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY2NTQ4ZjVjOWVkMjgwMDAxYjQxOWYzOCIsImlhdCI6MTcxNjgxNzc1NywiZXhwIjoxNzE2ODE4OTU3fQ.AO5jnsrA-gZcmUXzudRSxB-aibIStHNeINVN8QqIA9Y\",\n    \"refreshToken\": \"fa412fddcdc2a92485e3fdb753cf04182614bdd28e15bd846c5325e61b9f4d36063d153401001a8f\",\n    \"user\": {\n        \"email\": \"alpxt@oaav.ru\",\n        \"name\": \"alphonso.crooks\"\n    }\n}"},{"name":"jsonPath","value":"user.name"},{"name":"matcher","value":"is \"alphonso.crooks\""}],"start":1716817756520,"stop":1716817756533},{"name":"Check json parameter in response","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"response","value":"Login user POST api/auth/login. \nStatus code: 200.\nBody:\n{\n    \"success\": true,\n    \"accessToken\": \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY2NTQ4ZjVjOWVkMjgwMDAxYjQxOWYzOCIsImlhdCI6MTcxNjgxNzc1NywiZXhwIjoxNzE2ODE4OTU3fQ.AO5jnsrA-gZcmUXzudRSxB-aibIStHNeINVN8QqIA9Y\",\n    \"refreshToken\": \"fa412fddcdc2a92485e3fdb753cf04182614bdd28e15bd846c5325e61b9f4d36063d153401001a8f\",\n    \"user\": {\n        \"email\": \"alpxt@oaav.ru\",\n        \"name\": \"alphonso.crooks\"\n    }\n}"},{"name":"jsonPath","value":"accessToken"},{"name":"matcher","value":"a string starting with \"Bearer\""}],"start":1716817756534,"stop":1716817756546},{"name":"Check json parameter in response","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"response","value":"Login user POST api/auth/login. \nStatus code: 200.\nBody:\n{\n    \"success\": true,\n    \"accessToken\": \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY2NTQ4ZjVjOWVkMjgwMDAxYjQxOWYzOCIsImlhdCI6MTcxNjgxNzc1NywiZXhwIjoxNzE2ODE4OTU3fQ.AO5jnsrA-gZcmUXzudRSxB-aibIStHNeINVN8QqIA9Y\",\n    \"refreshToken\": \"fa412fddcdc2a92485e3fdb753cf04182614bdd28e15bd846c5325e61b9f4d36063d153401001a8f\",\n    \"user\": {\n        \"email\": \"alpxt@oaav.ru\",\n        \"name\": \"alphonso.crooks\"\n    }\n}"},{"name":"jsonPath","value":"refreshToken"},{"name":"matcher","value":"not null"}],"start":1716817756546,"stop":1716817756577}],"attachments":[],"parameters":[{"name":"response","value":"Login user POST api/auth/login. \nStatus code: 200.\nBody:\n{\n    \"success\": true,\n    \"accessToken\": \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY2NTQ4ZjVjOWVkMjgwMDAxYjQxOWYzOCIsImlhdCI6MTcxNjgxNzc1NywiZXhwIjoxNzE2ODE4OTU3fQ.AO5jnsrA-gZcmUXzudRSxB-aibIStHNeINVN8QqIA9Y\",\n    \"refreshToken\": \"fa412fddcdc2a92485e3fdb753cf04182614bdd28e15bd846c5325e61b9f4d36063d153401001a8f\",\n    \"user\": {\n        \"email\": \"alpxt@oaav.ru\",\n        \"name\": \"alphonso.crooks\"\n    }\n}"},{"name":"user","value":"User{email='alpxt@oaav.ru', password='aawikc', name='alphonso.crooks'}"}],"start":1716817756494,"stop":1716817756577},{"name":"Postcondition: delete user","status":"passed","stage":"finished","steps":[{"name":"DELETE /api/auth/user. Deleting a user.","status":"passed","stage":"finished","steps":[],"attachments":[{"name":"Request","source":"f4e8061e-6f73-46fa-b656-fb9fcde72d57-attachment.html","type":"text/html"},{"name":"HTTP/1.1 202 Accepted","source":"39b9831f-d93e-4728-9a81-3efb1c2a7890-attachment.html","type":"text/html"}],"parameters":[{"name":"accessToken","value":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY2NTQ4ZjVjOWVkMjgwMDAxYjQxOWYzOCIsImlhdCI6MTcxNjgxNzc1NywiZXhwIjoxNzE2ODE4OTU3fQ.AO5jnsrA-gZcmUXzudRSxB-aibIStHNeINVN8QqIA9Y"}],"start":1716817756592,"stop":1716817757175},{"name":"Check response has status 202","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"response","value":"Delete user DELETE /api/auth/user. \nStatus code: 202.\nBody:\n{\n    \"success\": true,\n    \"message\": \"User successfully removed\"\n}"}],"start":1716817757175,"stop":1716817757175},{"name":"Check json parameter in response","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"response","value":"Delete user DELETE /api/auth/user. \nStatus code: 202.\nBody:\n{\n    \"success\": true,\n    \"message\": \"User successfully removed\"\n}"},{"name":"jsonPath","value":"success"},{"name":"matcher","value":"is <true>"}],"start":1716817757175,"stop":1716817757193},{"name":"Check json parameter in response","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"response","value":"Delete user DELETE /api/auth/user. \nStatus code: 202.\nBody:\n{\n    \"success\": true,\n    \"message\": \"User successfully removed\"\n}"},{"name":"jsonPath","value":"message"},{"name":"matcher","value":"is \"User successfully removed\""}],"start":1716817757193,"stop":1716817757205}],"attachments":[],"parameters":[{"name":"accessToken","value":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY2NTQ4ZjVjOWVkMjgwMDAxYjQxOWYzOCIsImlhdCI6MTcxNjgxNzc1NywiZXhwIjoxNzE2ODE4OTU3fQ.AO5jnsrA-gZcmUXzudRSxB-aibIStHNeINVN8QqIA9Y"}],"start":1716817756592,"stop":1716817757205}],"attachments":[],"parameters":[],"start":1716817755577,"stop":1716817757206}