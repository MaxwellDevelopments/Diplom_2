{"uuid":"d5e0177a-e9b1-4a98-ad8f-142ec46bb981","historyId":"616dc53f390d59ea1df6648e321b8045","testCaseId":"[engine:junit-jupiter]/[class:tests.stellarburger.user.ChangeInfoTests]/[test-template:shouldChangeInfoAuthorizedUser(stellarburgers.pojo.User)]","testCaseName":"PATCH /api/auth/user should change user info. Positive test, authorized user","fullName":"tests.stellarburger.user.ChangeInfoTests.shouldChangeInfoAuthorizedUser","labels":[{"name":"junit.platform.uniqueid","value":"[engine:junit-jupiter]/[class:tests.stellarburger.user.ChangeInfoTests]/[test-template:shouldChangeInfoAuthorizedUser(stellarburgers.pojo.User)]/[test-template-invocation:#2]"},{"name":"epic","value":"Tests for checking user change info functionality"},{"name":"host","value":"DESKTOP-DI5RTNF"},{"name":"thread","value":"3100@DESKTOP-DI5RTNF.main(1)"},{"name":"framework","value":"junit-platform"},{"name":"language","value":"java"},{"name":"package","value":"tests.stellarburger.user.ChangeInfoTests"},{"name":"testClass","value":"tests.stellarburger.user.ChangeInfoTests"},{"name":"testMethod","value":"shouldChangeInfoAuthorizedUser"},{"name":"suite","value":"tests.stellarburger.user.ChangeInfoTests"}],"links":[],"name":"PATCH /api/auth/user should change user info. Positive test, authorized user [2] User{email='hcupk@dqfq.ru', password='gedslr', name='dane.terry'}","status":"passed","stage":"finished","description":"Positive test for changing user's info. Status code should be 200, also checking json structure","steps":[{"name":"Precondition: create user","status":"passed","stage":"finished","steps":[{"name":"POST /api/auth/register. Creating a user.","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"user","value":"User{email='uqxvl@cpgq.ru', password='gnnork', name='gabriel.christiansen'}"}],"start":1716815200199,"stop":1716815200661},{"name":"Check response has status 200","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"response","value":"Register user POST /api/auth/register. \nStatus code: 200.\nBody:\n{\n    \"success\": true,\n    \"user\": {\n        \"email\": \"uqxvl@cpgq.ru\",\n        \"name\": \"gabriel.christiansen\"\n    },\n    \"accessToken\": \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY2NTQ4NTYxOWVkMjgwMDAxYjQxOWRlYyIsImlhdCI6MTcxNjgxNTIwMSwiZXhwIjoxNzE2ODE2NDAxfQ.FloupE9YTn63KiBJ6dfS76V7yVIkN46TCIeYPLGtUP8\",\n    \"refreshToken\": \"c3e35a2974a699c8d0ea89461e57222e73a2d23e0e2361ede4b2b5b0caf01b17f70fb6340e8b7932\"\n}"}],"start":1716815200661,"stop":1716815200661},{"name":"Check json parameter in response","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"response","value":"Register user POST /api/auth/register. \nStatus code: 200.\nBody:\n{\n    \"success\": true,\n    \"user\": {\n        \"email\": \"uqxvl@cpgq.ru\",\n        \"name\": \"gabriel.christiansen\"\n    },\n    \"accessToken\": \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY2NTQ4NTYxOWVkMjgwMDAxYjQxOWRlYyIsImlhdCI6MTcxNjgxNTIwMSwiZXhwIjoxNzE2ODE2NDAxfQ.FloupE9YTn63KiBJ6dfS76V7yVIkN46TCIeYPLGtUP8\",\n    \"refreshToken\": \"c3e35a2974a699c8d0ea89461e57222e73a2d23e0e2361ede4b2b5b0caf01b17f70fb6340e8b7932\"\n}"},{"name":"jsonPath","value":"success"},{"name":"matcher","value":"is <true>"}],"start":1716815200661,"stop":1716815200676}],"attachments":[],"parameters":[{"name":"user","value":"User{email='uqxvl@cpgq.ru', password='gnnork', name='gabriel.christiansen'}"}],"start":1716815200199,"stop":1716815200676},{"name":"PATCH /api/auth/user. Change user info.","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"user","value":"User{email='hcupk@dqfq.ru', password='gedslr', name='dane.terry'}"},{"name":"accessToken","value":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY2NTQ4NTYxOWVkMjgwMDAxYjQxOWRlYyIsImlhdCI6MTcxNjgxNTIwMSwiZXhwIjoxNzE2ODE2NDAxfQ.FloupE9YTn63KiBJ6dfS76V7yVIkN46TCIeYPLGtUP8"}],"start":1716815200718,"stop":1716815201126},{"name":"Check response has status 200","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"response","value":"Change user info. PATCH /api/auth/user. \nStatus code: 200.\nBody:\n{\n    \"success\": true,\n    \"user\": {\n        \"email\": \"hcupk@dqfq.ru\",\n        \"name\": \"dane.terry\"\n    }\n}"}],"start":1716815201126,"stop":1716815201126},{"name":"Checking json structure in change user info response","status":"passed","stage":"finished","steps":[{"name":"Check json parameter in response","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"response","value":"Change user info. PATCH /api/auth/user. \nStatus code: 200.\nBody:\n{\n    \"success\": true,\n    \"user\": {\n        \"email\": \"hcupk@dqfq.ru\",\n        \"name\": \"dane.terry\"\n    }\n}"},{"name":"jsonPath","value":"success"},{"name":"matcher","value":"is <true>"}],"start":1716815201126,"stop":1716815201139},{"name":"Check json parameter in response","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"response","value":"Change user info. PATCH /api/auth/user. \nStatus code: 200.\nBody:\n{\n    \"success\": true,\n    \"user\": {\n        \"email\": \"hcupk@dqfq.ru\",\n        \"name\": \"dane.terry\"\n    }\n}"},{"name":"jsonPath","value":"user"},{"name":"matcher","value":"not null"}],"start":1716815201139,"stop":1716815201151},{"name":"Check json parameter in response","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"response","value":"Change user info. PATCH /api/auth/user. \nStatus code: 200.\nBody:\n{\n    \"success\": true,\n    \"user\": {\n        \"email\": \"hcupk@dqfq.ru\",\n        \"name\": \"dane.terry\"\n    }\n}"},{"name":"jsonPath","value":"user.email"},{"name":"matcher","value":"is \"hcupk@dqfq.ru\""}],"start":1716815201151,"stop":1716815201164},{"name":"Check json parameter in response","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"response","value":"Change user info. PATCH /api/auth/user. \nStatus code: 200.\nBody:\n{\n    \"success\": true,\n    \"user\": {\n        \"email\": \"hcupk@dqfq.ru\",\n        \"name\": \"dane.terry\"\n    }\n}"},{"name":"jsonPath","value":"user.name"},{"name":"matcher","value":"is \"dane.terry\""}],"start":1716815201164,"stop":1716815201177}],"attachments":[],"parameters":[{"name":"response","value":"Change user info. PATCH /api/auth/user. \nStatus code: 200.\nBody:\n{\n    \"success\": true,\n    \"user\": {\n        \"email\": \"hcupk@dqfq.ru\",\n        \"name\": \"dane.terry\"\n    }\n}"},{"name":"userWithNewInfo","value":"User{email='hcupk@dqfq.ru', password='gedslr', name='dane.terry'}"}],"start":1716815201126,"stop":1716815201177},{"name":"Checking that password changed and can login with new password","status":"passed","stage":"finished","steps":[{"name":"POST /api/auth/login. Login a user.","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"user","value":"User{email='hcupk@dqfq.ru', password='gedslr', name='null'}"}],"start":1716815201177,"stop":1716815201608},{"name":"Check response has status 200","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"response","value":"Login user POST api/auth/login. \nStatus code: 200.\nBody:\n{\n    \"success\": true,\n    \"accessToken\": \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY2NTQ4NTYxOWVkMjgwMDAxYjQxOWRlYyIsImlhdCI6MTcxNjgxNTIwMiwiZXhwIjoxNzE2ODE2NDAyfQ.2ayCjl0eXJ50xLnS7iXJng2e--Ci-YV-90sgrLSjbhY\",\n    \"refreshToken\": \"425cbd0d289837f028ca540a0add75c67570ef142c6a2c710d8c68c8759545fb1c5f10402e09c61a\",\n    \"user\": {\n        \"email\": \"hcupk@dqfq.ru\",\n        \"name\": \"dane.terry\"\n    }\n}"}],"start":1716815201608,"stop":1716815201608}],"attachments":[],"parameters":[{"name":"newPassword","value":"gedslr"},{"name":"email","value":"hcupk@dqfq.ru"}],"start":1716815201177,"stop":1716815201608},{"name":"Postcondition: delete user","status":"passed","stage":"finished","steps":[{"name":"DELETE /api/auth/user. Deleting a user.","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"accessToken","value":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY2NTQ4NTYxOWVkMjgwMDAxYjQxOWRlYyIsImlhdCI6MTcxNjgxNTIwMSwiZXhwIjoxNzE2ODE2NDAxfQ.FloupE9YTn63KiBJ6dfS76V7yVIkN46TCIeYPLGtUP8"}],"start":1716815201609,"stop":1716815202238},{"name":"Check response has status 202","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"response","value":"Delete user DELETE /api/auth/user. \nStatus code: 202.\nBody:\n{\n    \"success\": true,\n    \"message\": \"User successfully removed\"\n}"}],"start":1716815202239,"stop":1716815202239},{"name":"Check json parameter in response","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"response","value":"Delete user DELETE /api/auth/user. \nStatus code: 202.\nBody:\n{\n    \"success\": true,\n    \"message\": \"User successfully removed\"\n}"},{"name":"jsonPath","value":"success"},{"name":"matcher","value":"is <true>"}],"start":1716815202239,"stop":1716815202254},{"name":"Check json parameter in response","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"response","value":"Delete user DELETE /api/auth/user. \nStatus code: 202.\nBody:\n{\n    \"success\": true,\n    \"message\": \"User successfully removed\"\n}"},{"name":"jsonPath","value":"message"},{"name":"matcher","value":"is \"User successfully removed\""}],"start":1716815202254,"stop":1716815202271}],"attachments":[],"parameters":[{"name":"accessToken","value":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY2NTQ4NTYxOWVkMjgwMDAxYjQxOWRlYyIsImlhdCI6MTcxNjgxNTIwMSwiZXhwIjoxNzE2ODE2NDAxfQ.FloupE9YTn63KiBJ6dfS76V7yVIkN46TCIeYPLGtUP8"}],"start":1716815201609,"stop":1716815202271}],"attachments":[],"parameters":[{"name":"UniqueId","value":"[engine:junit-jupiter]/[class:tests.stellarburger.user.ChangeInfoTests]/[test-template:shouldChangeInfoAuthorizedUser(stellarburgers.pojo.User)]/[test-template-invocation:#2]","mode":"hidden"}],"start":1716815200198,"stop":1716815202271}