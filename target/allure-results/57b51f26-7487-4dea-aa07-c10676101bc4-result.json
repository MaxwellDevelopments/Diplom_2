{"uuid":"57b51f26-7487-4dea-aa07-c10676101bc4","historyId":"5942ad75ecd52061eeb1b66cb8a57851","testCaseId":"[engine:junit-jupiter]/[class:tests.stellarburger.user.LoginTests]/[method:shouldLoginUserExisted()]","testCaseName":"POST /api/auth/login. Positive test. Login with existed user.","fullName":"tests.stellarburger.user.LoginTests.shouldLoginUserExisted","labels":[{"name":"junit.platform.uniqueid","value":"[engine:junit-jupiter]/[class:tests.stellarburger.user.LoginTests]/[method:shouldLoginUserExisted()]"},{"name":"epic","value":"Tests for checking user login functionality"},{"name":"host","value":"DESKTOP-DI5RTNF"},{"name":"thread","value":"3100@DESKTOP-DI5RTNF.main(1)"},{"name":"framework","value":"junit-platform"},{"name":"language","value":"java"},{"name":"package","value":"tests.stellarburger.user.LoginTests"},{"name":"testClass","value":"tests.stellarburger.user.LoginTests"},{"name":"testMethod","value":"shouldLoginUserExisted"},{"name":"suite","value":"tests.stellarburger.user.LoginTests"}],"links":[],"name":"POST /api/auth/login. Positive test. Login with existed user.","status":"passed","stage":"finished","description":"Positive test for login. Status code should be 200, also checking json","steps":[{"name":"Precondition: create user","status":"passed","stage":"finished","steps":[{"name":"POST /api/auth/register. Creating a user.","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"user","value":"User{email='gfpkj@vuoj.ru', password='fiyafm', name='adolph.harris'}"}],"start":1716815209545,"stop":1716815210039},{"name":"Check response has status 200","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"response","value":"Register user POST /api/auth/register. \nStatus code: 200.\nBody:\n{\n    \"success\": true,\n    \"user\": {\n        \"email\": \"gfpkj@vuoj.ru\",\n        \"name\": \"adolph.harris\"\n    },\n    \"accessToken\": \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY2NTQ4NTZhOWVkMjgwMDAxYjQxOWRmYyIsImlhdCI6MTcxNjgxNTIxMCwiZXhwIjoxNzE2ODE2NDEwfQ.YkteWUwCk_htkFqM67S81lM2DD_wqLaTriRUpKeLlFM\",\n    \"refreshToken\": \"caa7a6450a29bdbd0817fa1f24e6d173bd568c3aa6dadfd77724d616ea1ede2ae614824388c0c23e\"\n}"}],"start":1716815210039,"stop":1716815210039},{"name":"Check json parameter in response","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"response","value":"Register user POST /api/auth/register. \nStatus code: 200.\nBody:\n{\n    \"success\": true,\n    \"user\": {\n        \"email\": \"gfpkj@vuoj.ru\",\n        \"name\": \"adolph.harris\"\n    },\n    \"accessToken\": \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY2NTQ4NTZhOWVkMjgwMDAxYjQxOWRmYyIsImlhdCI6MTcxNjgxNTIxMCwiZXhwIjoxNzE2ODE2NDEwfQ.YkteWUwCk_htkFqM67S81lM2DD_wqLaTriRUpKeLlFM\",\n    \"refreshToken\": \"caa7a6450a29bdbd0817fa1f24e6d173bd568c3aa6dadfd77724d616ea1ede2ae614824388c0c23e\"\n}"},{"name":"jsonPath","value":"success"},{"name":"matcher","value":"is <true>"}],"start":1716815210039,"stop":1716815210053}],"attachments":[],"parameters":[{"name":"user","value":"User{email='gfpkj@vuoj.ru', password='fiyafm', name='adolph.harris'}"}],"start":1716815209545,"stop":1716815210053},{"name":"POST /api/auth/login. Login a user.","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"user","value":"User{email='gfpkj@vuoj.ru', password='fiyafm', name='null'}"}],"start":1716815210053,"stop":1716815210459},{"name":"Check response has status 200","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"response","value":"Login user POST api/auth/login. \nStatus code: 200.\nBody:\n{\n    \"success\": true,\n    \"accessToken\": \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY2NTQ4NTZhOWVkMjgwMDAxYjQxOWRmYyIsImlhdCI6MTcxNjgxNTIxMSwiZXhwIjoxNzE2ODE2NDExfQ.V3KHFQvPkjUPts14EQF8EowOK1Lc2p5ZCLnNDKcLQ0A\",\n    \"refreshToken\": \"eb0dc77713be0f189ccba1317e97137a4a3332070a50197bb1a995aa4f234c1131a92049f97e0acf\",\n    \"user\": {\n        \"email\": \"gfpkj@vuoj.ru\",\n        \"name\": \"adolph.harris\"\n    }\n}"}],"start":1716815210459,"stop":1716815210459},{"name":"Check json structure in login response","status":"passed","stage":"finished","steps":[{"name":"Check json parameter in response","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"response","value":"Login user POST api/auth/login. \nStatus code: 200.\nBody:\n{\n    \"success\": true,\n    \"accessToken\": \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY2NTQ4NTZhOWVkMjgwMDAxYjQxOWRmYyIsImlhdCI6MTcxNjgxNTIxMSwiZXhwIjoxNzE2ODE2NDExfQ.V3KHFQvPkjUPts14EQF8EowOK1Lc2p5ZCLnNDKcLQ0A\",\n    \"refreshToken\": \"eb0dc77713be0f189ccba1317e97137a4a3332070a50197bb1a995aa4f234c1131a92049f97e0acf\",\n    \"user\": {\n        \"email\": \"gfpkj@vuoj.ru\",\n        \"name\": \"adolph.harris\"\n    }\n}"},{"name":"jsonPath","value":"success"},{"name":"matcher","value":"is <true>"}],"start":1716815210460,"stop":1716815210474},{"name":"Check json parameter in response","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"response","value":"Login user POST api/auth/login. \nStatus code: 200.\nBody:\n{\n    \"success\": true,\n    \"accessToken\": \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY2NTQ4NTZhOWVkMjgwMDAxYjQxOWRmYyIsImlhdCI6MTcxNjgxNTIxMSwiZXhwIjoxNzE2ODE2NDExfQ.V3KHFQvPkjUPts14EQF8EowOK1Lc2p5ZCLnNDKcLQ0A\",\n    \"refreshToken\": \"eb0dc77713be0f189ccba1317e97137a4a3332070a50197bb1a995aa4f234c1131a92049f97e0acf\",\n    \"user\": {\n        \"email\": \"gfpkj@vuoj.ru\",\n        \"name\": \"adolph.harris\"\n    }\n}"},{"name":"jsonPath","value":"user.email"},{"name":"matcher","value":"is \"gfpkj@vuoj.ru\""}],"start":1716815210475,"stop":1716815210486},{"name":"Check json parameter in response","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"response","value":"Login user POST api/auth/login. \nStatus code: 200.\nBody:\n{\n    \"success\": true,\n    \"accessToken\": \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY2NTQ4NTZhOWVkMjgwMDAxYjQxOWRmYyIsImlhdCI6MTcxNjgxNTIxMSwiZXhwIjoxNzE2ODE2NDExfQ.V3KHFQvPkjUPts14EQF8EowOK1Lc2p5ZCLnNDKcLQ0A\",\n    \"refreshToken\": \"eb0dc77713be0f189ccba1317e97137a4a3332070a50197bb1a995aa4f234c1131a92049f97e0acf\",\n    \"user\": {\n        \"email\": \"gfpkj@vuoj.ru\",\n        \"name\": \"adolph.harris\"\n    }\n}"},{"name":"jsonPath","value":"user.name"},{"name":"matcher","value":"is \"adolph.harris\""}],"start":1716815210486,"stop":1716815210499},{"name":"Check json parameter in response","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"response","value":"Login user POST api/auth/login. \nStatus code: 200.\nBody:\n{\n    \"success\": true,\n    \"accessToken\": \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY2NTQ4NTZhOWVkMjgwMDAxYjQxOWRmYyIsImlhdCI6MTcxNjgxNTIxMSwiZXhwIjoxNzE2ODE2NDExfQ.V3KHFQvPkjUPts14EQF8EowOK1Lc2p5ZCLnNDKcLQ0A\",\n    \"refreshToken\": \"eb0dc77713be0f189ccba1317e97137a4a3332070a50197bb1a995aa4f234c1131a92049f97e0acf\",\n    \"user\": {\n        \"email\": \"gfpkj@vuoj.ru\",\n        \"name\": \"adolph.harris\"\n    }\n}"},{"name":"jsonPath","value":"accessToken"},{"name":"matcher","value":"a string starting with \"Bearer\""}],"start":1716815210499,"stop":1716815210511},{"name":"Check json parameter in response","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"response","value":"Login user POST api/auth/login. \nStatus code: 200.\nBody:\n{\n    \"success\": true,\n    \"accessToken\": \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY2NTQ4NTZhOWVkMjgwMDAxYjQxOWRmYyIsImlhdCI6MTcxNjgxNTIxMSwiZXhwIjoxNzE2ODE2NDExfQ.V3KHFQvPkjUPts14EQF8EowOK1Lc2p5ZCLnNDKcLQ0A\",\n    \"refreshToken\": \"eb0dc77713be0f189ccba1317e97137a4a3332070a50197bb1a995aa4f234c1131a92049f97e0acf\",\n    \"user\": {\n        \"email\": \"gfpkj@vuoj.ru\",\n        \"name\": \"adolph.harris\"\n    }\n}"},{"name":"jsonPath","value":"refreshToken"},{"name":"matcher","value":"not null"}],"start":1716815210511,"stop":1716815210523}],"attachments":[],"parameters":[{"name":"response","value":"Login user POST api/auth/login. \nStatus code: 200.\nBody:\n{\n    \"success\": true,\n    \"accessToken\": \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY2NTQ4NTZhOWVkMjgwMDAxYjQxOWRmYyIsImlhdCI6MTcxNjgxNTIxMSwiZXhwIjoxNzE2ODE2NDExfQ.V3KHFQvPkjUPts14EQF8EowOK1Lc2p5ZCLnNDKcLQ0A\",\n    \"refreshToken\": \"eb0dc77713be0f189ccba1317e97137a4a3332070a50197bb1a995aa4f234c1131a92049f97e0acf\",\n    \"user\": {\n        \"email\": \"gfpkj@vuoj.ru\",\n        \"name\": \"adolph.harris\"\n    }\n}"},{"name":"user","value":"User{email='gfpkj@vuoj.ru', password='fiyafm', name='adolph.harris'}"}],"start":1716815210459,"stop":1716815210523},{"name":"Postcondition: delete user","status":"passed","stage":"finished","steps":[{"name":"DELETE /api/auth/user. Deleting a user.","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"accessToken","value":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY2NTQ4NTZhOWVkMjgwMDAxYjQxOWRmYyIsImlhdCI6MTcxNjgxNTIxMSwiZXhwIjoxNzE2ODE2NDExfQ.V3KHFQvPkjUPts14EQF8EowOK1Lc2p5ZCLnNDKcLQ0A"}],"start":1716815210535,"stop":1716815211089},{"name":"Check response has status 202","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"response","value":"Delete user DELETE /api/auth/user. \nStatus code: 202.\nBody:\n{\n    \"success\": true,\n    \"message\": \"User successfully removed\"\n}"}],"start":1716815211089,"stop":1716815211089},{"name":"Check json parameter in response","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"response","value":"Delete user DELETE /api/auth/user. \nStatus code: 202.\nBody:\n{\n    \"success\": true,\n    \"message\": \"User successfully removed\"\n}"},{"name":"jsonPath","value":"success"},{"name":"matcher","value":"is <true>"}],"start":1716815211089,"stop":1716815211103},{"name":"Check json parameter in response","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"response","value":"Delete user DELETE /api/auth/user. \nStatus code: 202.\nBody:\n{\n    \"success\": true,\n    \"message\": \"User successfully removed\"\n}"},{"name":"jsonPath","value":"message"},{"name":"matcher","value":"is \"User successfully removed\""}],"start":1716815211103,"stop":1716815211114}],"attachments":[],"parameters":[{"name":"accessToken","value":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY2NTQ4NTZhOWVkMjgwMDAxYjQxOWRmYyIsImlhdCI6MTcxNjgxNTIxMSwiZXhwIjoxNzE2ODE2NDExfQ.V3KHFQvPkjUPts14EQF8EowOK1Lc2p5ZCLnNDKcLQ0A"}],"start":1716815210535,"stop":1716815211114}],"attachments":[],"parameters":[],"start":1716815209544,"stop":1716815211114}