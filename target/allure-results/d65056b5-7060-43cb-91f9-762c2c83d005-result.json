{"uuid":"d65056b5-7060-43cb-91f9-762c2c83d005","historyId":"616dc53f390d59ea1df6648e321b8045","testCaseId":"[engine:junit-jupiter]/[class:tests.stellarburger.user.ChangeInfoTests]/[test-template:shouldChangeInfoAuthorizedUser(stellarburgers.pojo.User)]","testCaseName":"PATCH /api/auth/user should change user info. Positive test, authorized user","fullName":"tests.stellarburger.user.ChangeInfoTests.shouldChangeInfoAuthorizedUser","labels":[{"name":"junit.platform.uniqueid","value":"[engine:junit-jupiter]/[class:tests.stellarburger.user.ChangeInfoTests]/[test-template:shouldChangeInfoAuthorizedUser(stellarburgers.pojo.User)]/[test-template-invocation:#2]"},{"name":"epic","value":"Tests for checking user change info functionality"},{"name":"host","value":"DESKTOP-DI5RTNF"},{"name":"thread","value":"16564@DESKTOP-DI5RTNF.main(1)"},{"name":"framework","value":"junit-platform"},{"name":"language","value":"java"},{"name":"package","value":"tests.stellarburger.user.ChangeInfoTests"},{"name":"testClass","value":"tests.stellarburger.user.ChangeInfoTests"},{"name":"testMethod","value":"shouldChangeInfoAuthorizedUser"},{"name":"suite","value":"tests.stellarburger.user.ChangeInfoTests"}],"links":[],"name":"PATCH /api/auth/user should change user info. Positive test, authorized user [2] User{email='eovqn@dksw.ru', password='kyxgkx', name='sebastian.ankunding'}","status":"passed","stage":"finished","description":"Positive test for changing user's info. Status code should be 200, also checking json structure","steps":[{"name":"Precondition: create user","status":"passed","stage":"finished","steps":[{"name":"POST /api/auth/register. Creating a user.","status":"passed","stage":"finished","steps":[],"attachments":[{"name":"Request","source":"6929b7db-99c5-4a8b-b5ef-cd248d89b4e9-attachment.html","type":"text/html"},{"name":"HTTP/1.1 200 OK","source":"e8e29cb5-d3d8-4f1e-8c01-b77c9d934b20-attachment.html","type":"text/html"}],"parameters":[{"name":"user","value":"User{email='hhenv@nvdo.ru', password='vqcfeh', name='elfreda.rodriguez'}"}],"start":1716817746005,"stop":1716817746464},{"name":"Check response has status 200","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"response","value":"Register user POST /api/auth/register. \nStatus code: 200.\nBody:\n{\n    \"success\": true,\n    \"user\": {\n        \"email\": \"hhenv@nvdo.ru\",\n        \"name\": \"elfreda.rodriguez\"\n    },\n    \"accessToken\": \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY2NTQ4ZjUzOWVkMjgwMDAxYjQxOWYyYSIsImlhdCI6MTcxNjgxNzc0NywiZXhwIjoxNzE2ODE4OTQ3fQ.CWlQCQYPD04-VCfz4hd5otI7cc9ZSYvzESVexXsNbTA\",\n    \"refreshToken\": \"43031781c630e402cdc7eacfaaf165e1ccd2c6617275a861009b742582e17e79d3011c133a8b1a2c\"\n}"}],"start":1716817746464,"stop":1716817746465},{"name":"Check json parameter in response","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"response","value":"Register user POST /api/auth/register. \nStatus code: 200.\nBody:\n{\n    \"success\": true,\n    \"user\": {\n        \"email\": \"hhenv@nvdo.ru\",\n        \"name\": \"elfreda.rodriguez\"\n    },\n    \"accessToken\": \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY2NTQ4ZjUzOWVkMjgwMDAxYjQxOWYyYSIsImlhdCI6MTcxNjgxNzc0NywiZXhwIjoxNzE2ODE4OTQ3fQ.CWlQCQYPD04-VCfz4hd5otI7cc9ZSYvzESVexXsNbTA\",\n    \"refreshToken\": \"43031781c630e402cdc7eacfaaf165e1ccd2c6617275a861009b742582e17e79d3011c133a8b1a2c\"\n}"},{"name":"jsonPath","value":"success"},{"name":"matcher","value":"is <true>"}],"start":1716817746465,"stop":1716817746477}],"attachments":[],"parameters":[{"name":"user","value":"User{email='hhenv@nvdo.ru', password='vqcfeh', name='elfreda.rodriguez'}"}],"start":1716817746005,"stop":1716817746478},{"name":"PATCH /api/auth/user. Change user info.","status":"passed","stage":"finished","steps":[],"attachments":[{"name":"Request","source":"e5f0bc3d-52d8-46f0-bf5f-cc07e1d16874-attachment.html","type":"text/html"},{"name":"HTTP/1.1 200 OK","source":"9b666abc-e7fe-4490-bdb8-0eb975fd3043-attachment.html","type":"text/html"}],"parameters":[{"name":"user","value":"User{email='eovqn@dksw.ru', password='kyxgkx', name='sebastian.ankunding'}"},{"name":"accessToken","value":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY2NTQ4ZjUzOWVkMjgwMDAxYjQxOWYyYSIsImlhdCI6MTcxNjgxNzc0NywiZXhwIjoxNzE2ODE4OTQ3fQ.CWlQCQYPD04-VCfz4hd5otI7cc9ZSYvzESVexXsNbTA"}],"start":1716817746493,"stop":1716817746918},{"name":"Check response has status 200","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"response","value":"Change user info. PATCH /api/auth/user. \nStatus code: 200.\nBody:\n{\n    \"success\": true,\n    \"user\": {\n        \"email\": \"eovqn@dksw.ru\",\n        \"name\": \"sebastian.ankunding\"\n    }\n}"}],"start":1716817746918,"stop":1716817746918},{"name":"Checking json structure in change user info response","status":"passed","stage":"finished","steps":[{"name":"Check json parameter in response","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"response","value":"Change user info. PATCH /api/auth/user. \nStatus code: 200.\nBody:\n{\n    \"success\": true,\n    \"user\": {\n        \"email\": \"eovqn@dksw.ru\",\n        \"name\": \"sebastian.ankunding\"\n    }\n}"},{"name":"jsonPath","value":"success"},{"name":"matcher","value":"is <true>"}],"start":1716817746919,"stop":1716817746938},{"name":"Check json parameter in response","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"response","value":"Change user info. PATCH /api/auth/user. \nStatus code: 200.\nBody:\n{\n    \"success\": true,\n    \"user\": {\n        \"email\": \"eovqn@dksw.ru\",\n        \"name\": \"sebastian.ankunding\"\n    }\n}"},{"name":"jsonPath","value":"user"},{"name":"matcher","value":"not null"}],"start":1716817746938,"stop":1716817746951},{"name":"Check json parameter in response","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"response","value":"Change user info. PATCH /api/auth/user. \nStatus code: 200.\nBody:\n{\n    \"success\": true,\n    \"user\": {\n        \"email\": \"eovqn@dksw.ru\",\n        \"name\": \"sebastian.ankunding\"\n    }\n}"},{"name":"jsonPath","value":"user.email"},{"name":"matcher","value":"is \"eovqn@dksw.ru\""}],"start":1716817746952,"stop":1716817746966},{"name":"Check json parameter in response","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"response","value":"Change user info. PATCH /api/auth/user. \nStatus code: 200.\nBody:\n{\n    \"success\": true,\n    \"user\": {\n        \"email\": \"eovqn@dksw.ru\",\n        \"name\": \"sebastian.ankunding\"\n    }\n}"},{"name":"jsonPath","value":"user.name"},{"name":"matcher","value":"is \"sebastian.ankunding\""}],"start":1716817746966,"stop":1716817746981}],"attachments":[],"parameters":[{"name":"response","value":"Change user info. PATCH /api/auth/user. \nStatus code: 200.\nBody:\n{\n    \"success\": true,\n    \"user\": {\n        \"email\": \"eovqn@dksw.ru\",\n        \"name\": \"sebastian.ankunding\"\n    }\n}"},{"name":"userWithNewInfo","value":"User{email='eovqn@dksw.ru', password='kyxgkx', name='sebastian.ankunding'}"}],"start":1716817746919,"stop":1716817746981},{"name":"Checking that password changed and can login with new password","status":"passed","stage":"finished","steps":[{"name":"POST /api/auth/login. Login a user.","status":"passed","stage":"finished","steps":[],"attachments":[{"name":"Request","source":"c82e6b45-9005-408f-a053-63540930fb40-attachment.html","type":"text/html"},{"name":"HTTP/1.1 200 OK","source":"787fd8eb-4d73-424b-b8a1-4f1c5a61f9b2-attachment.html","type":"text/html"}],"parameters":[{"name":"user","value":"User{email='eovqn@dksw.ru', password='kyxgkx', name='null'}"}],"start":1716817746981,"stop":1716817747444},{"name":"Check response has status 200","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"response","value":"Login user POST api/auth/login. \nStatus code: 200.\nBody:\n{\n    \"success\": true,\n    \"accessToken\": \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY2NTQ4ZjUzOWVkMjgwMDAxYjQxOWYyYSIsImlhdCI6MTcxNjgxNzc0OCwiZXhwIjoxNzE2ODE4OTQ4fQ.NSmvPiyTkTH-zOLGZscKkzzPiVbYBnxNCuG5ba7NGIs\",\n    \"refreshToken\": \"98afb7f7b54a829af1bebcb9a8d2eb9b0eb961a806fde7ce8690e34e9cb7339dfcc85d01cf2f5a77\",\n    \"user\": {\n        \"email\": \"eovqn@dksw.ru\",\n        \"name\": \"sebastian.ankunding\"\n    }\n}"}],"start":1716817747444,"stop":1716817747444}],"attachments":[],"parameters":[{"name":"newPassword","value":"kyxgkx"},{"name":"email","value":"eovqn@dksw.ru"}],"start":1716817746981,"stop":1716817747444},{"name":"Postcondition: delete user","status":"passed","stage":"finished","steps":[{"name":"DELETE /api/auth/user. Deleting a user.","status":"passed","stage":"finished","steps":[],"attachments":[{"name":"Request","source":"91b89516-838a-446f-8790-0527c27e6264-attachment.html","type":"text/html"},{"name":"HTTP/1.1 202 Accepted","source":"35b60206-57de-4721-83dd-4e922505ff2d-attachment.html","type":"text/html"}],"parameters":[{"name":"accessToken","value":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY2NTQ4ZjUzOWVkMjgwMDAxYjQxOWYyYSIsImlhdCI6MTcxNjgxNzc0NywiZXhwIjoxNzE2ODE4OTQ3fQ.CWlQCQYPD04-VCfz4hd5otI7cc9ZSYvzESVexXsNbTA"}],"start":1716817747445,"stop":1716817747994},{"name":"Check response has status 202","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"response","value":"Delete user DELETE /api/auth/user. \nStatus code: 202.\nBody:\n{\n    \"success\": true,\n    \"message\": \"User successfully removed\"\n}"}],"start":1716817747994,"stop":1716817747995},{"name":"Check json parameter in response","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"response","value":"Delete user DELETE /api/auth/user. \nStatus code: 202.\nBody:\n{\n    \"success\": true,\n    \"message\": \"User successfully removed\"\n}"},{"name":"jsonPath","value":"success"},{"name":"matcher","value":"is <true>"}],"start":1716817747995,"stop":1716817748011},{"name":"Check json parameter in response","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"response","value":"Delete user DELETE /api/auth/user. \nStatus code: 202.\nBody:\n{\n    \"success\": true,\n    \"message\": \"User successfully removed\"\n}"},{"name":"jsonPath","value":"message"},{"name":"matcher","value":"is \"User successfully removed\""}],"start":1716817748012,"stop":1716817748027}],"attachments":[],"parameters":[{"name":"accessToken","value":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY2NTQ4ZjUzOWVkMjgwMDAxYjQxOWYyYSIsImlhdCI6MTcxNjgxNzc0NywiZXhwIjoxNzE2ODE4OTQ3fQ.CWlQCQYPD04-VCfz4hd5otI7cc9ZSYvzESVexXsNbTA"}],"start":1716817747445,"stop":1716817748027}],"attachments":[],"parameters":[{"name":"UniqueId","value":"[engine:junit-jupiter]/[class:tests.stellarburger.user.ChangeInfoTests]/[test-template:shouldChangeInfoAuthorizedUser(stellarburgers.pojo.User)]/[test-template-invocation:#2]","mode":"hidden"}],"start":1716817746004,"stop":1716817748027}