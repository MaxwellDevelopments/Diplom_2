{"uuid":"fddae0bd-e23e-45e3-a938-7eddd6e4d7e4","historyId":"83c17b788984c774f65f0c95cdff5435","testCaseId":"[engine:junit-jupiter]/[class:tests.stellarburger.user.ChangeInfoTests]/[test-template:shouldChangeInfoAuthorizedUser(stellarburgers.pojo.User)]","testCaseName":"PATCH /api/auth/user should change user info. Positive test, authorized user","fullName":"tests.stellarburger.user.ChangeInfoTests.shouldChangeInfoAuthorizedUser","labels":[{"name":"junit.platform.uniqueid","value":"[engine:junit-jupiter]/[class:tests.stellarburger.user.ChangeInfoTests]/[test-template:shouldChangeInfoAuthorizedUser(stellarburgers.pojo.User)]/[test-template-invocation:#3]"},{"name":"epic","value":"Tests for checking user change info functionality"},{"name":"host","value":"DESKTOP-DI5RTNF"},{"name":"thread","value":"16564@DESKTOP-DI5RTNF.main(1)"},{"name":"framework","value":"junit-platform"},{"name":"language","value":"java"},{"name":"package","value":"tests.stellarburger.user.ChangeInfoTests"},{"name":"testClass","value":"tests.stellarburger.user.ChangeInfoTests"},{"name":"testMethod","value":"shouldChangeInfoAuthorizedUser"},{"name":"suite","value":"tests.stellarburger.user.ChangeInfoTests"}],"links":[],"name":"PATCH /api/auth/user should change user info. Positive test, authorized user [3] User{email='mvxpg@iolj.ru', password='dmvcah', name='null'}","status":"passed","stage":"finished","description":"Positive test for changing user's info. Status code should be 200, also checking json structure","steps":[{"name":"Precondition: create user","status":"passed","stage":"finished","steps":[{"name":"POST /api/auth/register. Creating a user.","status":"passed","stage":"finished","steps":[],"attachments":[{"name":"Request","source":"1f9b061c-d991-438d-b031-b01032626e1a-attachment.html","type":"text/html"},{"name":"HTTP/1.1 200 OK","source":"8afc45f9-764d-457f-9f55-28a6299d2993-attachment.html","type":"text/html"}],"parameters":[{"name":"user","value":"User{email='aldgd@gqfv.ru', password='zikvki', name='lonny.hirthe'}"}],"start":1716817748036,"stop":1716817748460},{"name":"Check response has status 200","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"response","value":"Register user POST /api/auth/register. \nStatus code: 200.\nBody:\n{\n    \"success\": true,\n    \"user\": {\n        \"email\": \"aldgd@gqfv.ru\",\n        \"name\": \"lonny.hirthe\"\n    },\n    \"accessToken\": \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY2NTQ4ZjU1OWVkMjgwMDAxYjQxOWYyZSIsImlhdCI6MTcxNjgxNzc0OSwiZXhwIjoxNzE2ODE4OTQ5fQ.2U-t42CZ2eWVO6BF5xZEMeYa6EBoq402E8VsAByGABo\",\n    \"refreshToken\": \"4cefc3532a5091b9bed5dcc2f39e27ee08ec47f8663af6cdefc0dacf83f09ebf39e8a7b62d5d81d7\"\n}"}],"start":1716817748460,"stop":1716817748460},{"name":"Check json parameter in response","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"response","value":"Register user POST /api/auth/register. \nStatus code: 200.\nBody:\n{\n    \"success\": true,\n    \"user\": {\n        \"email\": \"aldgd@gqfv.ru\",\n        \"name\": \"lonny.hirthe\"\n    },\n    \"accessToken\": \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY2NTQ4ZjU1OWVkMjgwMDAxYjQxOWYyZSIsImlhdCI6MTcxNjgxNzc0OSwiZXhwIjoxNzE2ODE4OTQ5fQ.2U-t42CZ2eWVO6BF5xZEMeYa6EBoq402E8VsAByGABo\",\n    \"refreshToken\": \"4cefc3532a5091b9bed5dcc2f39e27ee08ec47f8663af6cdefc0dacf83f09ebf39e8a7b62d5d81d7\"\n}"},{"name":"jsonPath","value":"success"},{"name":"matcher","value":"is <true>"}],"start":1716817748461,"stop":1716817748474}],"attachments":[],"parameters":[{"name":"user","value":"User{email='aldgd@gqfv.ru', password='zikvki', name='lonny.hirthe'}"}],"start":1716817748036,"stop":1716817748474},{"name":"PATCH /api/auth/user. Change user info.","status":"passed","stage":"finished","steps":[],"attachments":[{"name":"Request","source":"b32daef6-0189-43f5-970b-07bfe5283d7a-attachment.html","type":"text/html"},{"name":"HTTP/1.1 200 OK","source":"da9b6a02-94b0-4084-ae37-8d346fd159e1-attachment.html","type":"text/html"}],"parameters":[{"name":"user","value":"User{email='mvxpg@iolj.ru', password='dmvcah', name='null'}"},{"name":"accessToken","value":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY2NTQ4ZjU1OWVkMjgwMDAxYjQxOWYyZSIsImlhdCI6MTcxNjgxNzc0OSwiZXhwIjoxNzE2ODE4OTQ5fQ.2U-t42CZ2eWVO6BF5xZEMeYa6EBoq402E8VsAByGABo"}],"start":1716817748488,"stop":1716817748931},{"name":"Check response has status 200","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"response","value":"Change user info. PATCH /api/auth/user. \nStatus code: 200.\nBody:\n{\n    \"success\": true,\n    \"user\": {\n        \"email\": \"mvxpg@iolj.ru\",\n        \"name\": \"lonny.hirthe\"\n    }\n}"}],"start":1716817748932,"stop":1716817748932},{"name":"Checking json structure in change user info response","status":"passed","stage":"finished","steps":[{"name":"Check json parameter in response","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"response","value":"Change user info. PATCH /api/auth/user. \nStatus code: 200.\nBody:\n{\n    \"success\": true,\n    \"user\": {\n        \"email\": \"mvxpg@iolj.ru\",\n        \"name\": \"lonny.hirthe\"\n    }\n}"},{"name":"jsonPath","value":"success"},{"name":"matcher","value":"is <true>"}],"start":1716817748932,"stop":1716817748949},{"name":"Check json parameter in response","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"response","value":"Change user info. PATCH /api/auth/user. \nStatus code: 200.\nBody:\n{\n    \"success\": true,\n    \"user\": {\n        \"email\": \"mvxpg@iolj.ru\",\n        \"name\": \"lonny.hirthe\"\n    }\n}"},{"name":"jsonPath","value":"user"},{"name":"matcher","value":"not null"}],"start":1716817748950,"stop":1716817748964},{"name":"Check json parameter in response","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"response","value":"Change user info. PATCH /api/auth/user. \nStatus code: 200.\nBody:\n{\n    \"success\": true,\n    \"user\": {\n        \"email\": \"mvxpg@iolj.ru\",\n        \"name\": \"lonny.hirthe\"\n    }\n}"},{"name":"jsonPath","value":"user.email"},{"name":"matcher","value":"is \"mvxpg@iolj.ru\""}],"start":1716817748964,"stop":1716817748980}],"attachments":[],"parameters":[{"name":"response","value":"Change user info. PATCH /api/auth/user. \nStatus code: 200.\nBody:\n{\n    \"success\": true,\n    \"user\": {\n        \"email\": \"mvxpg@iolj.ru\",\n        \"name\": \"lonny.hirthe\"\n    }\n}"},{"name":"userWithNewInfo","value":"User{email='mvxpg@iolj.ru', password='dmvcah', name='null'}"}],"start":1716817748932,"stop":1716817748980},{"name":"Checking that password changed and can login with new password","status":"passed","stage":"finished","steps":[{"name":"POST /api/auth/login. Login a user.","status":"passed","stage":"finished","steps":[],"attachments":[{"name":"Request","source":"0be955b1-0fd8-425a-afd0-d7bb55ea781e-attachment.html","type":"text/html"},{"name":"HTTP/1.1 200 OK","source":"ec17f500-6765-4f72-a153-04c4b68830bb-attachment.html","type":"text/html"}],"parameters":[{"name":"user","value":"User{email='mvxpg@iolj.ru', password='dmvcah', name='null'}"}],"start":1716817748980,"stop":1716817749413},{"name":"Check response has status 200","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"response","value":"Login user POST api/auth/login. \nStatus code: 200.\nBody:\n{\n    \"success\": true,\n    \"accessToken\": \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY2NTQ4ZjU1OWVkMjgwMDAxYjQxOWYyZSIsImlhdCI6MTcxNjgxNzc1MCwiZXhwIjoxNzE2ODE4OTUwfQ.AuslWQE1XAVNhYa0E3sZWK_DX74wOb9qYjmbVAnj-po\",\n    \"refreshToken\": \"6c94544ecc68385ce1e1a05635e91f3626327f1d0a36dcfafd421a87a41c950dd552dadd41e3eb49\",\n    \"user\": {\n        \"email\": \"mvxpg@iolj.ru\",\n        \"name\": \"lonny.hirthe\"\n    }\n}"}],"start":1716817749413,"stop":1716817749414}],"attachments":[],"parameters":[{"name":"newPassword","value":"dmvcah"},{"name":"email","value":"mvxpg@iolj.ru"}],"start":1716817748980,"stop":1716817749414},{"name":"Postcondition: delete user","status":"passed","stage":"finished","steps":[{"name":"DELETE /api/auth/user. Deleting a user.","status":"passed","stage":"finished","steps":[],"attachments":[{"name":"Request","source":"06f2b8d9-031d-4610-8e53-f0f2a333279e-attachment.html","type":"text/html"},{"name":"HTTP/1.1 202 Accepted","source":"57a22131-645e-4d2b-b211-274981cf8399-attachment.html","type":"text/html"}],"parameters":[{"name":"accessToken","value":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY2NTQ4ZjU1OWVkMjgwMDAxYjQxOWYyZSIsImlhdCI6MTcxNjgxNzc0OSwiZXhwIjoxNzE2ODE4OTQ5fQ.2U-t42CZ2eWVO6BF5xZEMeYa6EBoq402E8VsAByGABo"}],"start":1716817749414,"stop":1716817750011},{"name":"Check response has status 202","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"response","value":"Delete user DELETE /api/auth/user. \nStatus code: 202.\nBody:\n{\n    \"success\": true,\n    \"message\": \"User successfully removed\"\n}"}],"start":1716817750011,"stop":1716817750011},{"name":"Check json parameter in response","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"response","value":"Delete user DELETE /api/auth/user. \nStatus code: 202.\nBody:\n{\n    \"success\": true,\n    \"message\": \"User successfully removed\"\n}"},{"name":"jsonPath","value":"success"},{"name":"matcher","value":"is <true>"}],"start":1716817750011,"stop":1716817750026},{"name":"Check json parameter in response","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"response","value":"Delete user DELETE /api/auth/user. \nStatus code: 202.\nBody:\n{\n    \"success\": true,\n    \"message\": \"User successfully removed\"\n}"},{"name":"jsonPath","value":"message"},{"name":"matcher","value":"is \"User successfully removed\""}],"start":1716817750026,"stop":1716817750042}],"attachments":[],"parameters":[{"name":"accessToken","value":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY2NTQ4ZjU1OWVkMjgwMDAxYjQxOWYyZSIsImlhdCI6MTcxNjgxNzc0OSwiZXhwIjoxNzE2ODE4OTQ5fQ.2U-t42CZ2eWVO6BF5xZEMeYa6EBoq402E8VsAByGABo"}],"start":1716817749414,"stop":1716817750042}],"attachments":[],"parameters":[{"name":"UniqueId","value":"[engine:junit-jupiter]/[class:tests.stellarburger.user.ChangeInfoTests]/[test-template:shouldChangeInfoAuthorizedUser(stellarburgers.pojo.User)]/[test-template-invocation:#3]","mode":"hidden"}],"start":1716817748035,"stop":1716817750042}