{"uuid":"9200c07d-0fe3-422c-970e-102224fde011","historyId":"22f7fb6e5c41ae88fcf369e2fb63754f","testCaseId":"[engine:junit-jupiter]/[class:tests.stellarburger.user.ChangeInfoTests]/[method:shouldNotChangeInfoUnauthorizedUser()]","testCaseName":"PATCH /api/auth/user should change user info. Negative test, unauthorized user","fullName":"tests.stellarburger.user.ChangeInfoTests.shouldNotChangeInfoUnauthorizedUser","labels":[{"name":"junit.platform.uniqueid","value":"[engine:junit-jupiter]/[class:tests.stellarburger.user.ChangeInfoTests]/[method:shouldNotChangeInfoUnauthorizedUser()]"},{"name":"epic","value":"Tests for checking user change info functionality"},{"name":"host","value":"DESKTOP-DI5RTNF"},{"name":"thread","value":"3100@DESKTOP-DI5RTNF.main(1)"},{"name":"framework","value":"junit-platform"},{"name":"language","value":"java"},{"name":"package","value":"tests.stellarburger.user.ChangeInfoTests"},{"name":"testClass","value":"tests.stellarburger.user.ChangeInfoTests"},{"name":"testMethod","value":"shouldNotChangeInfoUnauthorizedUser"},{"name":"suite","value":"tests.stellarburger.user.ChangeInfoTests"}],"links":[],"name":"PATCH /api/auth/user should change user info. Negative test, unauthorized user","status":"passed","stage":"finished","description":"Negative test for changing user's info. Status code should be 401, also checking json structure","steps":[{"name":"Precondition: create user","status":"passed","stage":"finished","steps":[{"name":"POST /api/auth/register. Creating a user.","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"user","value":"User{email='mypcl@esgg.ru', password='hqxqop', name='gil.stamm'}"}],"start":1716815196880,"stop":1716815197318},{"name":"Check response has status 200","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"response","value":"Register user POST /api/auth/register. \nStatus code: 200.\nBody:\n{\n    \"success\": true,\n    \"user\": {\n        \"email\": \"mypcl@esgg.ru\",\n        \"name\": \"gil.stamm\"\n    },\n    \"accessToken\": \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY2NTQ4NTVlOWVkMjgwMDAxYjQxOWRlNyIsImlhdCI6MTcxNjgxNTE5OCwiZXhwIjoxNzE2ODE2Mzk4fQ.DbgcjfZSYjdD_sE1_rMnVOeVrArWPgehiM1U8_8x3EU\",\n    \"refreshToken\": \"ab04af7dcd44823cee2edec3316bec1d10a6bd51628c01b6f7c60e5f02956070d9c4134fc619c71f\"\n}"}],"start":1716815197318,"stop":1716815197318},{"name":"Check json parameter in response","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"response","value":"Register user POST /api/auth/register. \nStatus code: 200.\nBody:\n{\n    \"success\": true,\n    \"user\": {\n        \"email\": \"mypcl@esgg.ru\",\n        \"name\": \"gil.stamm\"\n    },\n    \"accessToken\": \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY2NTQ4NTVlOWVkMjgwMDAxYjQxOWRlNyIsImlhdCI6MTcxNjgxNTE5OCwiZXhwIjoxNzE2ODE2Mzk4fQ.DbgcjfZSYjdD_sE1_rMnVOeVrArWPgehiM1U8_8x3EU\",\n    \"refreshToken\": \"ab04af7dcd44823cee2edec3316bec1d10a6bd51628c01b6f7c60e5f02956070d9c4134fc619c71f\"\n}"},{"name":"jsonPath","value":"success"},{"name":"matcher","value":"is <true>"}],"start":1716815197319,"stop":1716815197336}],"attachments":[],"parameters":[{"name":"user","value":"User{email='mypcl@esgg.ru', password='hqxqop', name='gil.stamm'}"}],"start":1716815196880,"stop":1716815197336},{"name":"PATCH /api/auth/user. Change user info.","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"user","value":"User{email='mvsxm@nsel.ru', password='llkhav', name='florentino.murray'}"},{"name":"accessToken","value":"null"}],"start":1716815197350,"stop":1716815197605},{"name":"POST /api/auth/login. Login a user.","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"user","value":"User{email='mypcl@esgg.ru', password='hqxqop', name='gil.stamm'}"}],"start":1716815197606,"stop":1716815198065},{"name":"Check response has status 200","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"response","value":"Login user POST api/auth/login. \nStatus code: 200.\nBody:\n{\n    \"success\": true,\n    \"accessToken\": \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY2NTQ4NTVlOWVkMjgwMDAxYjQxOWRlNyIsImlhdCI6MTcxNjgxNTE5OSwiZXhwIjoxNzE2ODE2Mzk5fQ.PtenkF2sABhiZN1UfP-p6QjPElxeZ7Zes9JhEWnN8tA\",\n    \"refreshToken\": \"441ba8a3955391feab21137545f80c0aef3fdff98ac5a86524bee2683466caf7cbac6ec7d78b90ef\",\n    \"user\": {\n        \"email\": \"mypcl@esgg.ru\",\n        \"name\": \"gil.stamm\"\n    }\n}"}],"start":1716815198065,"stop":1716815198065},{"name":"Check that info has not been changed","status":"passed","stage":"finished","steps":[{"name":"Check json structure in login response","status":"passed","stage":"finished","steps":[{"name":"Check json parameter in response","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"response","value":"Login user POST api/auth/login. \nStatus code: 200.\nBody:\n{\n    \"success\": true,\n    \"accessToken\": \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY2NTQ4NTVlOWVkMjgwMDAxYjQxOWRlNyIsImlhdCI6MTcxNjgxNTE5OSwiZXhwIjoxNzE2ODE2Mzk5fQ.PtenkF2sABhiZN1UfP-p6QjPElxeZ7Zes9JhEWnN8tA\",\n    \"refreshToken\": \"441ba8a3955391feab21137545f80c0aef3fdff98ac5a86524bee2683466caf7cbac6ec7d78b90ef\",\n    \"user\": {\n        \"email\": \"mypcl@esgg.ru\",\n        \"name\": \"gil.stamm\"\n    }\n}"},{"name":"jsonPath","value":"success"},{"name":"matcher","value":"is <true>"}],"start":1716815198070,"stop":1716815198082},{"name":"Check json parameter in response","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"response","value":"Login user POST api/auth/login. \nStatus code: 200.\nBody:\n{\n    \"success\": true,\n    \"accessToken\": \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY2NTQ4NTVlOWVkMjgwMDAxYjQxOWRlNyIsImlhdCI6MTcxNjgxNTE5OSwiZXhwIjoxNzE2ODE2Mzk5fQ.PtenkF2sABhiZN1UfP-p6QjPElxeZ7Zes9JhEWnN8tA\",\n    \"refreshToken\": \"441ba8a3955391feab21137545f80c0aef3fdff98ac5a86524bee2683466caf7cbac6ec7d78b90ef\",\n    \"user\": {\n        \"email\": \"mypcl@esgg.ru\",\n        \"name\": \"gil.stamm\"\n    }\n}"},{"name":"jsonPath","value":"user.email"},{"name":"matcher","value":"is \"mypcl@esgg.ru\""}],"start":1716815198083,"stop":1716815198096},{"name":"Check json parameter in response","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"response","value":"Login user POST api/auth/login. \nStatus code: 200.\nBody:\n{\n    \"success\": true,\n    \"accessToken\": \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY2NTQ4NTVlOWVkMjgwMDAxYjQxOWRlNyIsImlhdCI6MTcxNjgxNTE5OSwiZXhwIjoxNzE2ODE2Mzk5fQ.PtenkF2sABhiZN1UfP-p6QjPElxeZ7Zes9JhEWnN8tA\",\n    \"refreshToken\": \"441ba8a3955391feab21137545f80c0aef3fdff98ac5a86524bee2683466caf7cbac6ec7d78b90ef\",\n    \"user\": {\n        \"email\": \"mypcl@esgg.ru\",\n        \"name\": \"gil.stamm\"\n    }\n}"},{"name":"jsonPath","value":"user.name"},{"name":"matcher","value":"is \"gil.stamm\""}],"start":1716815198096,"stop":1716815198109},{"name":"Check json parameter in response","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"response","value":"Login user POST api/auth/login. \nStatus code: 200.\nBody:\n{\n    \"success\": true,\n    \"accessToken\": \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY2NTQ4NTVlOWVkMjgwMDAxYjQxOWRlNyIsImlhdCI6MTcxNjgxNTE5OSwiZXhwIjoxNzE2ODE2Mzk5fQ.PtenkF2sABhiZN1UfP-p6QjPElxeZ7Zes9JhEWnN8tA\",\n    \"refreshToken\": \"441ba8a3955391feab21137545f80c0aef3fdff98ac5a86524bee2683466caf7cbac6ec7d78b90ef\",\n    \"user\": {\n        \"email\": \"mypcl@esgg.ru\",\n        \"name\": \"gil.stamm\"\n    }\n}"},{"name":"jsonPath","value":"accessToken"},{"name":"matcher","value":"a string starting with \"Bearer\""}],"start":1716815198112,"stop":1716815198125},{"name":"Check json parameter in response","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"response","value":"Login user POST api/auth/login. \nStatus code: 200.\nBody:\n{\n    \"success\": true,\n    \"accessToken\": \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY2NTQ4NTVlOWVkMjgwMDAxYjQxOWRlNyIsImlhdCI6MTcxNjgxNTE5OSwiZXhwIjoxNzE2ODE2Mzk5fQ.PtenkF2sABhiZN1UfP-p6QjPElxeZ7Zes9JhEWnN8tA\",\n    \"refreshToken\": \"441ba8a3955391feab21137545f80c0aef3fdff98ac5a86524bee2683466caf7cbac6ec7d78b90ef\",\n    \"user\": {\n        \"email\": \"mypcl@esgg.ru\",\n        \"name\": \"gil.stamm\"\n    }\n}"},{"name":"jsonPath","value":"refreshToken"},{"name":"matcher","value":"not null"}],"start":1716815198125,"stop":1716815198139}],"attachments":[],"parameters":[{"name":"response","value":"Login user POST api/auth/login. \nStatus code: 200.\nBody:\n{\n    \"success\": true,\n    \"accessToken\": \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY2NTQ4NTVlOWVkMjgwMDAxYjQxOWRlNyIsImlhdCI6MTcxNjgxNTE5OSwiZXhwIjoxNzE2ODE2Mzk5fQ.PtenkF2sABhiZN1UfP-p6QjPElxeZ7Zes9JhEWnN8tA\",\n    \"refreshToken\": \"441ba8a3955391feab21137545f80c0aef3fdff98ac5a86524bee2683466caf7cbac6ec7d78b90ef\",\n    \"user\": {\n        \"email\": \"mypcl@esgg.ru\",\n        \"name\": \"gil.stamm\"\n    }\n}"},{"name":"user","value":"User{email='mypcl@esgg.ru', password='hqxqop', name='gil.stamm'}"}],"start":1716815198070,"stop":1716815198139}],"attachments":[],"parameters":[{"name":"response","value":"Login user POST api/auth/login. \nStatus code: 200.\nBody:\n{\n    \"success\": true,\n    \"accessToken\": \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY2NTQ4NTVlOWVkMjgwMDAxYjQxOWRlNyIsImlhdCI6MTcxNjgxNTE5OSwiZXhwIjoxNzE2ODE2Mzk5fQ.PtenkF2sABhiZN1UfP-p6QjPElxeZ7Zes9JhEWnN8tA\",\n    \"refreshToken\": \"441ba8a3955391feab21137545f80c0aef3fdff98ac5a86524bee2683466caf7cbac6ec7d78b90ef\",\n    \"user\": {\n        \"email\": \"mypcl@esgg.ru\",\n        \"name\": \"gil.stamm\"\n    }\n}"}],"start":1716815198065,"stop":1716815198139},{"name":"Postcondition: delete user","status":"passed","stage":"finished","steps":[{"name":"DELETE /api/auth/user. Deleting a user.","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"accessToken","value":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY2NTQ4NTVlOWVkMjgwMDAxYjQxOWRlNyIsImlhdCI6MTcxNjgxNTE5OCwiZXhwIjoxNzE2ODE2Mzk4fQ.DbgcjfZSYjdD_sE1_rMnVOeVrArWPgehiM1U8_8x3EU"}],"start":1716815198141,"stop":1716815198730},{"name":"Check response has status 202","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"response","value":"Delete user DELETE /api/auth/user. \nStatus code: 202.\nBody:\n{\n    \"success\": true,\n    \"message\": \"User successfully removed\"\n}"}],"start":1716815198731,"stop":1716815198731},{"name":"Check json parameter in response","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"response","value":"Delete user DELETE /api/auth/user. \nStatus code: 202.\nBody:\n{\n    \"success\": true,\n    \"message\": \"User successfully removed\"\n}"},{"name":"jsonPath","value":"success"},{"name":"matcher","value":"is <true>"}],"start":1716815198731,"stop":1716815198745},{"name":"Check json parameter in response","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"response","value":"Delete user DELETE /api/auth/user. \nStatus code: 202.\nBody:\n{\n    \"success\": true,\n    \"message\": \"User successfully removed\"\n}"},{"name":"jsonPath","value":"message"},{"name":"matcher","value":"is \"User successfully removed\""}],"start":1716815198745,"stop":1716815198758}],"attachments":[],"parameters":[{"name":"accessToken","value":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY2NTQ4NTVlOWVkMjgwMDAxYjQxOWRlNyIsImlhdCI6MTcxNjgxNTE5OCwiZXhwIjoxNzE2ODE2Mzk4fQ.DbgcjfZSYjdD_sE1_rMnVOeVrArWPgehiM1U8_8x3EU"}],"start":1716815198140,"stop":1716815198758}],"attachments":[],"parameters":[],"start":1716815196877,"stop":1716815198759}