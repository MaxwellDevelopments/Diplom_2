{"uuid":"874d81e0-067e-48d1-a2eb-de667b61e185","historyId":"c0fabab9f1a633c867845456b1ae6fc1","testCaseId":"[engine:junit-jupiter]/[class:tests.stellarburger.user.ChangeInfoTests]/[test-template:shouldChangeInfoAuthorizedUser(stellarburgers.pojo.User)]","testCaseName":"PATCH /api/auth/user should change user info. Positive test, authorized user","fullName":"tests.stellarburger.user.ChangeInfoTests.shouldChangeInfoAuthorizedUser","labels":[{"name":"junit.platform.uniqueid","value":"[engine:junit-jupiter]/[class:tests.stellarburger.user.ChangeInfoTests]/[test-template:shouldChangeInfoAuthorizedUser(stellarburgers.pojo.User)]/[test-template-invocation:#4]"},{"name":"epic","value":"Tests for checking user change info functionality"},{"name":"host","value":"DESKTOP-DI5RTNF"},{"name":"thread","value":"3100@DESKTOP-DI5RTNF.main(1)"},{"name":"framework","value":"junit-platform"},{"name":"language","value":"java"},{"name":"package","value":"tests.stellarburger.user.ChangeInfoTests"},{"name":"testClass","value":"tests.stellarburger.user.ChangeInfoTests"},{"name":"testMethod","value":"shouldChangeInfoAuthorizedUser"},{"name":"suite","value":"tests.stellarburger.user.ChangeInfoTests"}],"links":[],"name":"PATCH /api/auth/user should change user info. Positive test, authorized user [4] User{email='null', password='mphjop', name='rick.rosenbaum'}","status":"passed","stage":"finished","description":"Positive test for changing user's info. Status code should be 200, also checking json structure","steps":[{"name":"Precondition: create user","status":"passed","stage":"finished","steps":[{"name":"POST /api/auth/register. Creating a user.","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"user","value":"User{email='yfvck@uppl.ru', password='hslhho', name='alberto.kassulke'}"}],"start":1716815204181,"stop":1716815204615},{"name":"Check response has status 200","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"response","value":"Register user POST /api/auth/register. \nStatus code: 200.\nBody:\n{\n    \"success\": true,\n    \"user\": {\n        \"email\": \"yfvck@uppl.ru\",\n        \"name\": \"alberto.kassulke\"\n    },\n    \"accessToken\": \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY2NTQ4NTY1OWVkMjgwMDAxYjQxOWRmNSIsImlhdCI6MTcxNjgxNTIwNSwiZXhwIjoxNzE2ODE2NDA1fQ.M8Hhj50iIkEPwXp5P58FPnK-fw20F1UiimvKkpf-WCo\",\n    \"refreshToken\": \"e3d082b53693aa637ffd1325732c5f987595ade49b1c4d49bf113a1ec1369ad61bce2017fd2779a8\"\n}"}],"start":1716815204615,"stop":1716815204615},{"name":"Check json parameter in response","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"response","value":"Register user POST /api/auth/register. \nStatus code: 200.\nBody:\n{\n    \"success\": true,\n    \"user\": {\n        \"email\": \"yfvck@uppl.ru\",\n        \"name\": \"alberto.kassulke\"\n    },\n    \"accessToken\": \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY2NTQ4NTY1OWVkMjgwMDAxYjQxOWRmNSIsImlhdCI6MTcxNjgxNTIwNSwiZXhwIjoxNzE2ODE2NDA1fQ.M8Hhj50iIkEPwXp5P58FPnK-fw20F1UiimvKkpf-WCo\",\n    \"refreshToken\": \"e3d082b53693aa637ffd1325732c5f987595ade49b1c4d49bf113a1ec1369ad61bce2017fd2779a8\"\n}"},{"name":"jsonPath","value":"success"},{"name":"matcher","value":"is <true>"}],"start":1716815204615,"stop":1716815204634}],"attachments":[],"parameters":[{"name":"user","value":"User{email='yfvck@uppl.ru', password='hslhho', name='alberto.kassulke'}"}],"start":1716815204181,"stop":1716815204634},{"name":"PATCH /api/auth/user. Change user info.","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"user","value":"User{email='null', password='mphjop', name='rick.rosenbaum'}"},{"name":"accessToken","value":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY2NTQ4NTY1OWVkMjgwMDAxYjQxOWRmNSIsImlhdCI6MTcxNjgxNTIwNSwiZXhwIjoxNzE2ODE2NDA1fQ.M8Hhj50iIkEPwXp5P58FPnK-fw20F1UiimvKkpf-WCo"}],"start":1716815204645,"stop":1716815205025},{"name":"Check response has status 200","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"response","value":"Change user info. PATCH /api/auth/user. \nStatus code: 200.\nBody:\n{\n    \"success\": true,\n    \"user\": {\n        \"email\": \"yfvck@uppl.ru\",\n        \"name\": \"rick.rosenbaum\"\n    }\n}"}],"start":1716815205025,"stop":1716815205025},{"name":"Checking json structure in change user info response","status":"passed","stage":"finished","steps":[{"name":"Check json parameter in response","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"response","value":"Change user info. PATCH /api/auth/user. \nStatus code: 200.\nBody:\n{\n    \"success\": true,\n    \"user\": {\n        \"email\": \"yfvck@uppl.ru\",\n        \"name\": \"rick.rosenbaum\"\n    }\n}"},{"name":"jsonPath","value":"success"},{"name":"matcher","value":"is <true>"}],"start":1716815205026,"stop":1716815205043},{"name":"Check json parameter in response","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"response","value":"Change user info. PATCH /api/auth/user. \nStatus code: 200.\nBody:\n{\n    \"success\": true,\n    \"user\": {\n        \"email\": \"yfvck@uppl.ru\",\n        \"name\": \"rick.rosenbaum\"\n    }\n}"},{"name":"jsonPath","value":"user"},{"name":"matcher","value":"not null"}],"start":1716815205043,"stop":1716815205059},{"name":"Check json parameter in response","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"response","value":"Change user info. PATCH /api/auth/user. \nStatus code: 200.\nBody:\n{\n    \"success\": true,\n    \"user\": {\n        \"email\": \"yfvck@uppl.ru\",\n        \"name\": \"rick.rosenbaum\"\n    }\n}"},{"name":"jsonPath","value":"user.name"},{"name":"matcher","value":"is \"rick.rosenbaum\""}],"start":1716815205059,"stop":1716815205071}],"attachments":[],"parameters":[{"name":"response","value":"Change user info. PATCH /api/auth/user. \nStatus code: 200.\nBody:\n{\n    \"success\": true,\n    \"user\": {\n        \"email\": \"yfvck@uppl.ru\",\n        \"name\": \"rick.rosenbaum\"\n    }\n}"},{"name":"userWithNewInfo","value":"User{email='null', password='mphjop', name='rick.rosenbaum'}"}],"start":1716815205025,"stop":1716815205071},{"name":"Checking that password changed and can login with new password","status":"passed","stage":"finished","steps":[{"name":"POST /api/auth/login. Login a user.","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"user","value":"User{email='yfvck@uppl.ru', password='mphjop', name='null'}"}],"start":1716815205071,"stop":1716815205504},{"name":"Check response has status 200","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"response","value":"Login user POST api/auth/login. \nStatus code: 200.\nBody:\n{\n    \"success\": true,\n    \"accessToken\": \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY2NTQ4NTY1OWVkMjgwMDAxYjQxOWRmNSIsImlhdCI6MTcxNjgxNTIwNiwiZXhwIjoxNzE2ODE2NDA2fQ.YXcECpVbODs87lVf7cFLXt3dtUM8u9y9Tntr1lWRdz8\",\n    \"refreshToken\": \"316398ee75e2aed28f1c893abe068a7bee957f1a9dfffe1d6250acd7db4d31163ed5f719a85c47b7\",\n    \"user\": {\n        \"email\": \"yfvck@uppl.ru\",\n        \"name\": \"rick.rosenbaum\"\n    }\n}"}],"start":1716815205504,"stop":1716815205504}],"attachments":[],"parameters":[{"name":"newPassword","value":"mphjop"},{"name":"email","value":"yfvck@uppl.ru"}],"start":1716815205071,"stop":1716815205504},{"name":"Postcondition: delete user","status":"passed","stage":"finished","steps":[{"name":"DELETE /api/auth/user. Deleting a user.","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"accessToken","value":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY2NTQ4NTY1OWVkMjgwMDAxYjQxOWRmNSIsImlhdCI6MTcxNjgxNTIwNSwiZXhwIjoxNzE2ODE2NDA1fQ.M8Hhj50iIkEPwXp5P58FPnK-fw20F1UiimvKkpf-WCo"}],"start":1716815205505,"stop":1716815206071},{"name":"Check response has status 202","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"response","value":"Delete user DELETE /api/auth/user. \nStatus code: 202.\nBody:\n{\n    \"success\": true,\n    \"message\": \"User successfully removed\"\n}"}],"start":1716815206072,"stop":1716815206072},{"name":"Check json parameter in response","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"response","value":"Delete user DELETE /api/auth/user. \nStatus code: 202.\nBody:\n{\n    \"success\": true,\n    \"message\": \"User successfully removed\"\n}"},{"name":"jsonPath","value":"success"},{"name":"matcher","value":"is <true>"}],"start":1716815206072,"stop":1716815206090},{"name":"Check json parameter in response","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"response","value":"Delete user DELETE /api/auth/user. \nStatus code: 202.\nBody:\n{\n    \"success\": true,\n    \"message\": \"User successfully removed\"\n}"},{"name":"jsonPath","value":"message"},{"name":"matcher","value":"is \"User successfully removed\""}],"start":1716815206090,"stop":1716815206104}],"attachments":[],"parameters":[{"name":"accessToken","value":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY2NTQ4NTY1OWVkMjgwMDAxYjQxOWRmNSIsImlhdCI6MTcxNjgxNTIwNSwiZXhwIjoxNzE2ODE2NDA1fQ.M8Hhj50iIkEPwXp5P58FPnK-fw20F1UiimvKkpf-WCo"}],"start":1716815205505,"stop":1716815206104}],"attachments":[],"parameters":[{"name":"UniqueId","value":"[engine:junit-jupiter]/[class:tests.stellarburger.user.ChangeInfoTests]/[test-template:shouldChangeInfoAuthorizedUser(stellarburgers.pojo.User)]/[test-template-invocation:#4]","mode":"hidden"}],"start":1716815204180,"stop":1716815206104}