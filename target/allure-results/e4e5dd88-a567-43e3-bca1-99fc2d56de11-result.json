{"uuid":"e4e5dd88-a567-43e3-bca1-99fc2d56de11","historyId":"650bf05ad89637bb8680220be6a82d6e","testCaseId":"[engine:junit-jupiter]/[class:tests.stellarburger.user.LoginTests]/[method:shouldNotLoginUserExisted()]","testCaseName":"POST /api/auth/login. Negative test, trying login with existed user and wrong password.","fullName":"tests.stellarburger.user.LoginTests.shouldNotLoginUserExisted","labels":[{"name":"junit.platform.uniqueid","value":"[engine:junit-jupiter]/[class:tests.stellarburger.user.LoginTests]/[method:shouldNotLoginUserExisted()]"},{"name":"epic","value":"Tests for checking user login functionality"},{"name":"host","value":"DESKTOP-DI5RTNF"},{"name":"thread","value":"3100@DESKTOP-DI5RTNF.main(1)"},{"name":"framework","value":"junit-platform"},{"name":"language","value":"java"},{"name":"package","value":"tests.stellarburger.user.LoginTests"},{"name":"testClass","value":"tests.stellarburger.user.LoginTests"},{"name":"testMethod","value":"shouldNotLoginUserExisted"},{"name":"suite","value":"tests.stellarburger.user.LoginTests"}],"links":[],"name":"POST /api/auth/login. Negative test, trying login with existed user and wrong password.","status":"passed","stage":"finished","description":"Negative test for login. Status code should be 401, also checking json. Should not login","steps":[{"name":"Precondition: create user","status":"passed","stage":"finished","steps":[{"name":"POST /api/auth/register. Creating a user.","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"user","value":"User{email='nbqad@wuox.ru', password='mssftm', name='leticia.kutch'}"}],"start":1716815207738,"stop":1716815208171},{"name":"Check response has status 200","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"response","value":"Register user POST /api/auth/register. \nStatus code: 200.\nBody:\n{\n    \"success\": true,\n    \"user\": {\n        \"email\": \"nbqad@wuox.ru\",\n        \"name\": \"leticia.kutch\"\n    },\n    \"accessToken\": \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY2NTQ4NTY5OWVkMjgwMDAxYjQxOWRmYSIsImlhdCI6MTcxNjgxNTIwOSwiZXhwIjoxNzE2ODE2NDA5fQ.5Xa7OjJD_yxxgHE3W5oMK7RDeDC5ItIz_OFB1WLp23Y\",\n    \"refreshToken\": \"7aebd5bc1910de721fb2cf4e91b5311a75438e80871cf1b2bb1b80440bd7e5001c4c2ce2c8fe6f1b\"\n}"}],"start":1716815208172,"stop":1716815208172},{"name":"Check json parameter in response","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"response","value":"Register user POST /api/auth/register. \nStatus code: 200.\nBody:\n{\n    \"success\": true,\n    \"user\": {\n        \"email\": \"nbqad@wuox.ru\",\n        \"name\": \"leticia.kutch\"\n    },\n    \"accessToken\": \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY2NTQ4NTY5OWVkMjgwMDAxYjQxOWRmYSIsImlhdCI6MTcxNjgxNTIwOSwiZXhwIjoxNzE2ODE2NDA5fQ.5Xa7OjJD_yxxgHE3W5oMK7RDeDC5ItIz_OFB1WLp23Y\",\n    \"refreshToken\": \"7aebd5bc1910de721fb2cf4e91b5311a75438e80871cf1b2bb1b80440bd7e5001c4c2ce2c8fe6f1b\"\n}"},{"name":"jsonPath","value":"success"},{"name":"matcher","value":"is <true>"}],"start":1716815208172,"stop":1716815208187}],"attachments":[],"parameters":[{"name":"user","value":"User{email='nbqad@wuox.ru', password='mssftm', name='leticia.kutch'}"}],"start":1716815207737,"stop":1716815208187},{"name":"POST /api/auth/login. Login a user.","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"user","value":"User{email='nbqad@wuox.ru', password='zicnwk', name='null'}"}],"start":1716815208187,"stop":1716815208583},{"name":"Check success status and message in json","status":"passed","stage":"finished","steps":[{"name":"Check json parameter in response","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"response","value":"Login user POST api/auth/login. \nStatus code: 401.\nBody:\n{\n    \"success\": false,\n    \"message\": \"email or password are incorrect\"\n}"},{"name":"jsonPath","value":"success"},{"name":"matcher","value":"is <false>"}],"start":1716815208584,"stop":1716815208599},{"name":"Check json parameter in response","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"response","value":"Login user POST api/auth/login. \nStatus code: 401.\nBody:\n{\n    \"success\": false,\n    \"message\": \"email or password are incorrect\"\n}"},{"name":"jsonPath","value":"message"},{"name":"matcher","value":"is \"email or password are incorrect\""}],"start":1716815208600,"stop":1716815208610}],"attachments":[],"parameters":[{"name":"response","value":"Login user POST api/auth/login. \nStatus code: 401.\nBody:\n{\n    \"success\": false,\n    \"message\": \"email or password are incorrect\"\n}"},{"name":"success","value":"false"},{"name":"message","value":"email or password are incorrect"}],"start":1716815208584,"stop":1716815208610},{"name":"Postcondition: delete user","status":"passed","stage":"finished","steps":[{"name":"DELETE /api/auth/user. Deleting a user.","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"accessToken","value":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY2NTQ4NTY5OWVkMjgwMDAxYjQxOWRmYSIsImlhdCI6MTcxNjgxNTIwOSwiZXhwIjoxNzE2ODE2NDA5fQ.5Xa7OjJD_yxxgHE3W5oMK7RDeDC5ItIz_OFB1WLp23Y"}],"start":1716815208622,"stop":1716815209133},{"name":"Check response has status 202","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"response","value":"Delete user DELETE /api/auth/user. \nStatus code: 202.\nBody:\n{\n    \"success\": true,\n    \"message\": \"User successfully removed\"\n}"}],"start":1716815209133,"stop":1716815209134},{"name":"Check json parameter in response","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"response","value":"Delete user DELETE /api/auth/user. \nStatus code: 202.\nBody:\n{\n    \"success\": true,\n    \"message\": \"User successfully removed\"\n}"},{"name":"jsonPath","value":"success"},{"name":"matcher","value":"is <true>"}],"start":1716815209134,"stop":1716815209152},{"name":"Check json parameter in response","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"response","value":"Delete user DELETE /api/auth/user. \nStatus code: 202.\nBody:\n{\n    \"success\": true,\n    \"message\": \"User successfully removed\"\n}"},{"name":"jsonPath","value":"message"},{"name":"matcher","value":"is \"User successfully removed\""}],"start":1716815209152,"stop":1716815209165}],"attachments":[],"parameters":[{"name":"accessToken","value":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY2NTQ4NTY5OWVkMjgwMDAxYjQxOWRmYSIsImlhdCI6MTcxNjgxNTIwOSwiZXhwIjoxNzE2ODE2NDA5fQ.5Xa7OjJD_yxxgHE3W5oMK7RDeDC5ItIz_OFB1WLp23Y"}],"start":1716815208621,"stop":1716815209165}],"attachments":[],"parameters":[],"start":1716815207736,"stop":1716815209166}