{"uuid":"63b3e7a5-c3a1-43fd-aaf8-ef3963feb5a5","historyId":"83c17b788984c774f65f0c95cdff5435","testCaseId":"[engine:junit-jupiter]/[class:tests.stellarburger.user.ChangeInfoTests]/[test-template:shouldChangeInfoAuthorizedUser(stellarburgers.pojo.User)]","testCaseName":"PATCH /api/auth/user should change user info. Positive test, authorized user","fullName":"tests.stellarburger.user.ChangeInfoTests.shouldChangeInfoAuthorizedUser","labels":[{"name":"junit.platform.uniqueid","value":"[engine:junit-jupiter]/[class:tests.stellarburger.user.ChangeInfoTests]/[test-template:shouldChangeInfoAuthorizedUser(stellarburgers.pojo.User)]/[test-template-invocation:#3]"},{"name":"epic","value":"Tests for checking user change info functionality"},{"name":"host","value":"DESKTOP-DI5RTNF"},{"name":"thread","value":"3100@DESKTOP-DI5RTNF.main(1)"},{"name":"framework","value":"junit-platform"},{"name":"language","value":"java"},{"name":"package","value":"tests.stellarburger.user.ChangeInfoTests"},{"name":"testClass","value":"tests.stellarburger.user.ChangeInfoTests"},{"name":"testMethod","value":"shouldChangeInfoAuthorizedUser"},{"name":"suite","value":"tests.stellarburger.user.ChangeInfoTests"}],"links":[],"name":"PATCH /api/auth/user should change user info. Positive test, authorized user [3] User{email='pynqj@pkgy.ru', password='fjtenk', name='null'}","status":"passed","stage":"finished","description":"Positive test for changing user's info. Status code should be 200, also checking json structure","steps":[{"name":"Precondition: create user","status":"passed","stage":"finished","steps":[{"name":"POST /api/auth/register. Creating a user.","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"user","value":"User{email='juclw@kndx.ru', password='iyekif', name='rogelio.hintz'}"}],"start":1716815202280,"stop":1716815202724},{"name":"Check response has status 200","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"response","value":"Register user POST /api/auth/register. \nStatus code: 200.\nBody:\n{\n    \"success\": true,\n    \"user\": {\n        \"email\": \"juclw@kndx.ru\",\n        \"name\": \"rogelio.hintz\"\n    },\n    \"accessToken\": \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY2NTQ4NTYzOWVkMjgwMDAxYjQxOWRmMSIsImlhdCI6MTcxNjgxNTIwMywiZXhwIjoxNzE2ODE2NDAzfQ.V_U83Nl4m5WM_QR-K5yZhebS3v0NrLpdawSDRbCYFs0\",\n    \"refreshToken\": \"b1394194b6fc7de5ff050b716e6143f8f5e20ac3337038b556463556f3ea64ec65c36fd7f3e472d2\"\n}"}],"start":1716815202724,"stop":1716815202725},{"name":"Check json parameter in response","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"response","value":"Register user POST /api/auth/register. \nStatus code: 200.\nBody:\n{\n    \"success\": true,\n    \"user\": {\n        \"email\": \"juclw@kndx.ru\",\n        \"name\": \"rogelio.hintz\"\n    },\n    \"accessToken\": \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY2NTQ4NTYzOWVkMjgwMDAxYjQxOWRmMSIsImlhdCI6MTcxNjgxNTIwMywiZXhwIjoxNzE2ODE2NDAzfQ.V_U83Nl4m5WM_QR-K5yZhebS3v0NrLpdawSDRbCYFs0\",\n    \"refreshToken\": \"b1394194b6fc7de5ff050b716e6143f8f5e20ac3337038b556463556f3ea64ec65c36fd7f3e472d2\"\n}"},{"name":"jsonPath","value":"success"},{"name":"matcher","value":"is <true>"}],"start":1716815202725,"stop":1716815202739}],"attachments":[],"parameters":[{"name":"user","value":"User{email='juclw@kndx.ru', password='iyekif', name='rogelio.hintz'}"}],"start":1716815202280,"stop":1716815202739},{"name":"PATCH /api/auth/user. Change user info.","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"user","value":"User{email='pynqj@pkgy.ru', password='fjtenk', name='null'}"},{"name":"accessToken","value":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY2NTQ4NTYzOWVkMjgwMDAxYjQxOWRmMSIsImlhdCI6MTcxNjgxNTIwMywiZXhwIjoxNzE2ODE2NDAzfQ.V_U83Nl4m5WM_QR-K5yZhebS3v0NrLpdawSDRbCYFs0"}],"start":1716815202752,"stop":1716815203154},{"name":"Check response has status 200","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"response","value":"Change user info. PATCH /api/auth/user. \nStatus code: 200.\nBody:\n{\n    \"success\": true,\n    \"user\": {\n        \"email\": \"pynqj@pkgy.ru\",\n        \"name\": \"rogelio.hintz\"\n    }\n}"}],"start":1716815203155,"stop":1716815203155},{"name":"Checking json structure in change user info response","status":"passed","stage":"finished","steps":[{"name":"Check json parameter in response","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"response","value":"Change user info. PATCH /api/auth/user. \nStatus code: 200.\nBody:\n{\n    \"success\": true,\n    \"user\": {\n        \"email\": \"pynqj@pkgy.ru\",\n        \"name\": \"rogelio.hintz\"\n    }\n}"},{"name":"jsonPath","value":"success"},{"name":"matcher","value":"is <true>"}],"start":1716815203155,"stop":1716815203170},{"name":"Check json parameter in response","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"response","value":"Change user info. PATCH /api/auth/user. \nStatus code: 200.\nBody:\n{\n    \"success\": true,\n    \"user\": {\n        \"email\": \"pynqj@pkgy.ru\",\n        \"name\": \"rogelio.hintz\"\n    }\n}"},{"name":"jsonPath","value":"user"},{"name":"matcher","value":"not null"}],"start":1716815203170,"stop":1716815203182},{"name":"Check json parameter in response","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"response","value":"Change user info. PATCH /api/auth/user. \nStatus code: 200.\nBody:\n{\n    \"success\": true,\n    \"user\": {\n        \"email\": \"pynqj@pkgy.ru\",\n        \"name\": \"rogelio.hintz\"\n    }\n}"},{"name":"jsonPath","value":"user.email"},{"name":"matcher","value":"is \"pynqj@pkgy.ru\""}],"start":1716815203182,"stop":1716815203195}],"attachments":[],"parameters":[{"name":"response","value":"Change user info. PATCH /api/auth/user. \nStatus code: 200.\nBody:\n{\n    \"success\": true,\n    \"user\": {\n        \"email\": \"pynqj@pkgy.ru\",\n        \"name\": \"rogelio.hintz\"\n    }\n}"},{"name":"userWithNewInfo","value":"User{email='pynqj@pkgy.ru', password='fjtenk', name='null'}"}],"start":1716815203155,"stop":1716815203195},{"name":"Checking that password changed and can login with new password","status":"passed","stage":"finished","steps":[{"name":"POST /api/auth/login. Login a user.","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"user","value":"User{email='pynqj@pkgy.ru', password='fjtenk', name='null'}"}],"start":1716815203195,"stop":1716815203629},{"name":"Check response has status 200","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"response","value":"Login user POST api/auth/login. \nStatus code: 200.\nBody:\n{\n    \"success\": true,\n    \"accessToken\": \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY2NTQ4NTYzOWVkMjgwMDAxYjQxOWRmMSIsImlhdCI6MTcxNjgxNTIwNCwiZXhwIjoxNzE2ODE2NDA0fQ.n_NXrgS6LJQmH8SrqjkxMSU6gEe0Bd8QfaRws-22uG4\",\n    \"refreshToken\": \"d3eaecd0131c576cb337a949fda00b11f7e439ffbe41cdabb340eef3d1f1536fe4fd0cc134f3ec8f\",\n    \"user\": {\n        \"email\": \"pynqj@pkgy.ru\",\n        \"name\": \"rogelio.hintz\"\n    }\n}"}],"start":1716815203629,"stop":1716815203630}],"attachments":[],"parameters":[{"name":"newPassword","value":"fjtenk"},{"name":"email","value":"pynqj@pkgy.ru"}],"start":1716815203195,"stop":1716815203630},{"name":"Postcondition: delete user","status":"passed","stage":"finished","steps":[{"name":"DELETE /api/auth/user. Deleting a user.","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"accessToken","value":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY2NTQ4NTYzOWVkMjgwMDAxYjQxOWRmMSIsImlhdCI6MTcxNjgxNTIwMywiZXhwIjoxNzE2ODE2NDAzfQ.V_U83Nl4m5WM_QR-K5yZhebS3v0NrLpdawSDRbCYFs0"}],"start":1716815203630,"stop":1716815204148},{"name":"Check response has status 202","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"response","value":"Delete user DELETE /api/auth/user. \nStatus code: 202.\nBody:\n{\n    \"success\": true,\n    \"message\": \"User successfully removed\"\n}"}],"start":1716815204148,"stop":1716815204148},{"name":"Check json parameter in response","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"response","value":"Delete user DELETE /api/auth/user. \nStatus code: 202.\nBody:\n{\n    \"success\": true,\n    \"message\": \"User successfully removed\"\n}"},{"name":"jsonPath","value":"success"},{"name":"matcher","value":"is <true>"}],"start":1716815204149,"stop":1716815204161},{"name":"Check json parameter in response","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"response","value":"Delete user DELETE /api/auth/user. \nStatus code: 202.\nBody:\n{\n    \"success\": true,\n    \"message\": \"User successfully removed\"\n}"},{"name":"jsonPath","value":"message"},{"name":"matcher","value":"is \"User successfully removed\""}],"start":1716815204161,"stop":1716815204175}],"attachments":[],"parameters":[{"name":"accessToken","value":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY2NTQ4NTYzOWVkMjgwMDAxYjQxOWRmMSIsImlhdCI6MTcxNjgxNTIwMywiZXhwIjoxNzE2ODE2NDAzfQ.V_U83Nl4m5WM_QR-K5yZhebS3v0NrLpdawSDRbCYFs0"}],"start":1716815203630,"stop":1716815204175}],"attachments":[],"parameters":[{"name":"UniqueId","value":"[engine:junit-jupiter]/[class:tests.stellarburger.user.ChangeInfoTests]/[test-template:shouldChangeInfoAuthorizedUser(stellarburgers.pojo.User)]/[test-template-invocation:#3]","mode":"hidden"}],"start":1716815202279,"stop":1716815204175}